warning: --branch option is unstable
info: cargo-llvm-cov currently setting cfg(coverage) and cfg(coverage_nightly); you can opt-out it by passing --no-cfg-coverage and --no-cfg-coverage-nightly
warning: unused import: `rstest_reuse`
   --> src/lib.rs:272:5
    |
272 | use rstest_reuse;
    |     ^^^^^^^^^^^^
    |
    = note: `#[warn(unused_imports)]` on by default

warning: unused import: `PAD`
  --> src/chunked_encoder.rs:82:73
   |
82 |         engine::general_purpose::{GeneralPurpose, GeneralPurposeConfig, PAD},
   |                                                                         ^^^

warning: unused import: `crate::*`
   --> src/chunked_encoder.rs:177:5
    |
177 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `crate::*`
   --> src/chunked_encoder.rs:208:5
    |
208 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `chunked_encode_matches_normal_encode_random`
  --> src/display.rs:58:9
   |
58 |         chunked_encode_matches_normal_encode_random, SinkTestHelper,
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `crate::engine::general_purpose::STANDARD`
  --> src/display.rs:61:9
   |
61 |     use crate::engine::general_purpose::STANDARD;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `crate::*`
  --> src/display.rs:93:5
   |
93 | use crate::*;
   |     ^^^^^^^^

warning: unused import: `self`
  --> src/display.rs:94:25
   |
94 |     use crate::engine::{self, general_purpose};
   |                         ^^^^

warning: unused import: `crate::*`
   --> src/read/decoder.rs:418:5
    |
418 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `crate::*`
   --> src/read/decoder.rs:445:5
    |
445 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `iter`
 --> src/read/decoder_tests.rs:4:5
  |
4 |     iter,
  |     ^^^^

warning: unused import: `RngCore as _`
 --> src/read/decoder_tests.rs:7:22
  |
7 | use rand::{Rng as _, RngCore as _};
  |                      ^^^^^^^^^^^^

warning: unused imports: `BUF_SIZE` and `DecoderReader`
 --> src/read/decoder_tests.rs:9:22
  |
9 | use super::decoder::{DecoderReader, BUF_SIZE};
  |                      ^^^^^^^^^^^^^  ^^^^^^^^

warning: unused imports: `DecodeError`, `Engine`, `GeneralPurpose`, `PAD_BYTE`, `alphabet`, `general_purpose::STANDARD`, `random_alphabet`, `random_config`, and `random_engine`
  --> src/read/decoder_tests.rs:11:5
   |
11 |     alphabet,
   |     ^^^^^^^^
12 |     engine::{general_purpose::STANDARD, Engine, GeneralPurpose},
   |              ^^^^^^^^^^^^^^^^^^^^^^^^^  ^^^^^^  ^^^^^^^^^^^^^^
13 |     tests::{random_alphabet, random_config, random_engine},
   |             ^^^^^^^^^^^^^^^  ^^^^^^^^^^^^^  ^^^^^^^^^^^^^
14 |     DecodeError, PAD_BYTE,
   |     ^^^^^^^^^^^  ^^^^^^^^

warning: unused import: `crate::*`
   --> src/write/encoder.rs:414:5
    |
414 | use crate::*;
    |     ^^^^^^^^

warning: unused imports: `engine::Engine`, `tests::random_engine`, and `write::encoder_string_writer::EncoderStringWriter`
   --> src/write/encoder_string_writer.rs:139:9
    |
139 |         engine::Engine, tests::random_engine, write::encoder_string_writer::EncoderStringWriter,
    |         ^^^^^^^^^^^^^^  ^^^^^^^^^^^^^^^^^^^^  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `rand::Rng`
   --> src/write/encoder_string_writer.rs:141:9
    |
141 |     use rand::Rng;
    |         ^^^^^^^^^

warning: unused import: `std::cmp`
   --> src/write/encoder_string_writer.rs:142:9
    |
142 |     use std::cmp;
    |         ^^^^^^^^

warning: unused import: `std::io::Write`
   --> src/write/encoder_string_writer.rs:143:9
    |
143 |     use std::io::Write;
    |         ^^^^^^^^^^^^^^

warning: unused import: `super::*`
   --> src/write/encoder_string_writer.rs:210:9
    |
210 |     use super::*;
    |         ^^^^^^^^

warning: unused import: `crate::*`
   --> src/write/encoder_string_writer.rs:212:5
    |
212 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `crate::*`
   --> src/write/encoder_string_writer.rs:241:5
    |
241 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `crate::*`
   --> src/write/encoder_string_writer.rs:264:5
    |
264 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `crate::*`
   --> src/write/encoder_string_writer.rs:284:5
    |
284 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `Cursor`
 --> src/write/encoder_tests.rs:1:15
  |
1 | use std::io::{Cursor, Write};
  |               ^^^^^^

warning: unused import: `super::*`
   --> src/engine/general_purpose/decode.rs:302:9
    |
302 |     use super::*;
    |         ^^^^^^^^

warning: unused import: `crate::engine::general_purpose::STANDARD`
   --> src/engine/general_purpose/decode.rs:304:9
    |
304 |     use crate::engine::general_purpose::STANDARD;
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `super::*`
   --> src/engine/general_purpose/decode.rs:417:9
    |
417 |     use super::*;
    |         ^^^^^^^^

warning: unused import: `crate::*`
   --> src/engine/general_purpose/decode.rs:419:5
    |
419 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `PAD_BYTE`
   --> src/engine/general_purpose/decode.rs:421:81
    |
421 |     use crate::engine::general_purpose::decode::{DecodeSliceError, DecodeError, PAD_BYTE, INVALID_VALUE};
    |                                                                                 ^^^^^^^^

warning: unused import: `crate::*`
   --> src/engine/general_purpose/mod.rs:394:5
    |
394 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `crate::*`
   --> src/engine/general_purpose/mod.rs:420:5
    |
420 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `crate::*`
   --> src/engine/general_purpose/mod.rs:469:5
    |
469 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `super::*`
   --> src/engine/general_purpose/mod.rs:484:9
    |
484 |     use super::*;
    |         ^^^^^^^^

warning: unused import: `super::*`
   --> src/engine/general_purpose/mod.rs:505:9
    |
505 |     use super::*;
    |         ^^^^^^^^

warning: unused import: `crate::*`
   --> src/engine/general_purpose/mod.rs:545:5
    |
545 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `crate::*`
   --> src/engine/general_purpose/mod.rs:566:5
    |
566 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `crate::*`
   --> src/engine/general_purpose/mod.rs:592:5
    |
592 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `crate::*`
   --> src/engine/mod.rs:483:5
    |
483 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `crate::*`
   --> src/engine/mod.rs:513:5
    |
513 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `crate::*`
   --> src/engine/mod.rs:545:5
    |
545 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `crate::*`
   --> src/engine/mod.rs:607:5
    |
607 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `crate::*`
   --> src/engine/mod.rs:648:5
    |
648 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `crate::*`
   --> src/engine/mod.rs:690:5
    |
690 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `crate::alphabet::*`
   --> src/alphabet.rs:211:9
    |
211 |     use crate::alphabet::*;
    |         ^^^^^^^^^^^^^^^^^^

warning: unused import: `core::convert::TryFrom as _`
   --> src/alphabet.rs:212:9
    |
212 |     use core::convert::TryFrom as _;
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `crate::*`
   --> src/alphabet.rs:291:5
    |
291 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `super::*`
   --> src/alphabet.rs:311:9
    |
311 |     use super::*;
    |         ^^^^^^^^

warning: unused import: `crate::*`
   --> src/alphabet.rs:313:5
    |
313 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `super::*`
   --> src/alphabet.rs:348:9
    |
348 |     use super::*;
    |         ^^^^^^^^

warning: unused import: `crate::*`
   --> src/alphabet.rs:350:5
    |
350 | use crate::*;
    |     ^^^^^^^^

warning: unused imports: `STANDARD`, `random_config`, and `random_engine`
   --> src/encode.rs:169:59
    |
169 |         engine::general_purpose::{GeneralPurpose, NO_PAD, STANDARD},
    |                                                           ^^^^^^^^
170 |         tests::{assert_encode_sanity, random_config, random_engine},
    |                                       ^^^^^^^^^^^^^  ^^^^^^^^^^^^^

warning: unused imports: `Distribution` and `Uniform`
   --> src/encode.rs:173:25
    |
173 |         distributions::{Distribution, Uniform},
    |                         ^^^^^^^^^^^^  ^^^^^^^

warning: unused import: `std::str`
   --> src/encode.rs:176:9
    |
176 |     use std::str;
    |         ^^^^^^^^

warning: unused import: `super::*`
   --> src/encode.rs:535:9
    |
535 |     use super::*;
    |         ^^^^^^^^

warning: unused import: `crate::*`
   --> src/encode.rs:537:5
    |
537 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `crate::*`
   --> src/encode.rs:555:5
    |
555 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `crate::*`
   --> src/encode.rs:591:5
    |
591 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `crate::*`
   --> src/encode.rs:624:5
    |
624 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `self`
   --> src/encode.rs:625:25
    |
625 |     use crate::engine::{self, general_purpose};
    |                         ^^^^

warning: unused import: `crate::*`
   --> src/encode.rs:665:5
    |
665 | use crate::*;
    |     ^^^^^^^^

warning: unused imports: `alphabet` and `general_purpose`
   --> src/decode.rs:160:9
    |
160 |         alphabet,
    |         ^^^^^^^^
161 |         engine::{general_purpose, Config, GeneralPurpose},
    |                  ^^^^^^^^^^^^^^^

warning: unused import: `super::*`
   --> src/decode.rs:348:9
    |
348 |     use super::*;
    |         ^^^^^^^^

warning: unused import: `std::error::Error`
   --> src/decode.rs:349:9
    |
349 |     use std::error::Error;
    |         ^^^^^^^^^^^^^^^^^

warning: unused import: `super::*`
   --> src/decode.rs:390:9
    |
390 |     use super::*;
    |         ^^^^^^^^

warning: unused import: `crate::*`
   --> src/decode.rs:392:5
    |
392 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `crate::*`
   --> src/decode.rs:458:5
    |
458 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `super::*`
   --> src/decode.rs:484:9
    |
484 |     use super::*;
    |         ^^^^^^^^

warning: unused import: `crate::*`
   --> src/decode.rs:486:5
    |
486 | use crate::*;
    |     ^^^^^^^^

warning: unused import: `DecodeError`
   --> src/decode.rs:487:25
    |
487 |     use crate::{decode, DecodeError};
    |                         ^^^^^^^^^^^

warning: unused import: `crate::*`
   --> src/decode.rs:524:5
    |
524 | use crate::*;
    |     ^^^^^^^^

warning: use of deprecated function `encode::encode`: Use Engine::encode
   --> src/encode.rs:538:16
    |
538 |     use crate::encode;
    |                ^^^^^^
    |
    = note: `#[warn(deprecated)]` on by default

warning: use of deprecated function `encode::encode`: Use Engine::encode
   --> src/encode.rs:542:20
    |
542 |         assert_eq!(encode("Hello, World!"), "SGVsbG8sIFdvcmxkIQ==");
    |                    ^^^^^^

warning: use of deprecated function `encode::encode`: Use Engine::encode
   --> src/encode.rs:543:20
    |
543 |         assert_eq!(encode(b"Hello, World!"), "SGVsbG8sIFdvcmxkIQ==");
    |                    ^^^^^^

warning: use of deprecated function `encode::encode`: Use Engine::encode
   --> src/encode.rs:544:20
    |
544 |         assert_eq!(encode(""), "");
    |                    ^^^^^^

warning: use of deprecated function `encode::encode`: Use Engine::encode
   --> src/encode.rs:545:20
    |
545 |         assert_eq!(encode(b""), "");
    |                    ^^^^^^

warning: use of deprecated function `encode::encode`: Use Engine::encode
   --> src/encode.rs:546:20
    |
546 |         assert_eq!(encode("Rust"), "UnVzdA==");
    |                    ^^^^^^

warning: use of deprecated function `encode::encode`: Use Engine::encode
   --> src/encode.rs:547:20
    |
547 |         assert_eq!(encode("base64"), "YmFzZTY0");
    |                    ^^^^^^

warning: use of deprecated function `encode::encode_engine`: Use Engine::encode
   --> src/encode.rs:563:22
    |
563 |         let output = encode_engine(input, &engine);
    |                      ^^^^^^^^^^^^^

warning: use of deprecated function `encode::encode_engine`: Use Engine::encode
   --> src/encode.rs:573:22
    |
573 |         let output = encode_engine(input, &CUSTOM_ENGINE);
    |                      ^^^^^^^^^^^^^

warning: use of deprecated function `encode::encode_engine`: Use Engine::encode
   --> src/encode.rs:582:22
    |
582 |         let output = encode_engine(input, &engine);
    |                      ^^^^^^^^^^^^^

warning: use of deprecated function `encode::encode_engine_slice`: Use Engine::encode_slice
   --> src/encode.rs:600:22
    |
600 |         let result = encode_engine_slice(input, &mut output_buf, &engine).unwrap();
    |                      ^^^^^^^^^^^^^^^^^^^

warning: use of deprecated function `encode::encode_engine_slice`: Use Engine::encode_slice
   --> src/encode.rs:613:22
    |
613 |         let result = encode_engine_slice(input, &mut output_buf, &engine);
    |                      ^^^^^^^^^^^^^^^^^^^

warning: use of deprecated function `encode::encode_engine_string`: Use Engine::encode_string
   --> src/encode.rs:633:9
    |
633 |         encode_engine_string(input, &mut output, &engine);
    |         ^^^^^^^^^^^^^^^^^^^^

warning: use of deprecated function `encode::encode_engine_string`: Use Engine::encode_string
   --> src/encode.rs:644:9
    |
644 |         encode_engine_string(input, &mut output, &engine);
    |         ^^^^^^^^^^^^^^^^^^^^

warning: use of deprecated function `encode::encode_engine_string`: Use Engine::encode_string
   --> src/encode.rs:655:9
    |
655 |         encode_engine_string(input, &mut output, &engine);
    |         ^^^^^^^^^^^^^^^^^^^^

warning: use of deprecated function `decode::decode`: Use Engine::decode
   --> src/decode.rs:487:17
    |
487 |     use crate::{decode, DecodeError};
    |                 ^^^^^^

warning: use of deprecated function `decode::decode`: Use Engine::decode
   --> src/decode.rs:493:22
    |
493 |         let result = decode(input).unwrap();
    |                      ^^^^^^

warning: use of deprecated function `decode::decode`: Use Engine::decode
   --> src/decode.rs:500:22
    |
500 |         let result = decode(input);
    |                      ^^^^^^

warning: use of deprecated function `decode::decode`: Use Engine::decode
   --> src/decode.rs:507:22
    |
507 |         let result = decode(input).unwrap();
    |                      ^^^^^^

warning: use of deprecated function `decode::decode`: Use Engine::decode
   --> src/decode.rs:515:22
    |
515 |         let result = decode(input).unwrap();
    |                      ^^^^^^

warning: use of deprecated function `decode::decode_engine_vec`: Use Engine::decode_vec
   --> src/decode.rs:534:22
    |
534 |         let result = decode_engine_vec(input, &mut buffer, &engine);
    |                      ^^^^^^^^^^^^^^^^^

warning: use of deprecated function `decode::decode_engine_vec`: Use Engine::decode_vec
   --> src/decode.rs:546:22
    |
546 |         let result = decode_engine_vec(input, &mut buffer, &engine);
    |                      ^^^^^^^^^^^^^^^^^

warning: use of deprecated function `decode::decode_engine_vec`: Use Engine::decode_vec
   --> src/decode.rs:557:22
    |
557 |         let result = decode_engine_vec(input, &mut buffer, &engine);
    |                      ^^^^^^^^^^^^^^^^^

warning: unused import: `Read`
 --> src/read/decoder_tests.rs:3:16
  |
3 |     io::{self, Read as _},
  |                ^^^^

warning: unused import: `super`
   --> src/engine/general_purpose/mod.rs:543:9
    |
543 |     use super::*;
    |         ^^^^^

warning: unused import: `Engine`
   --> src/engine/mod.rs:608:17
    |
608 |     use crate::{Engine as _, alphabet, engine::{self, general_purpose}};
    |                 ^^^^^^

warning: variable does not need to be mutable
   --> src/write/encoder_string_writer.rs:269:13
    |
269 |         let mut string = String::new();
    |             ----^^^^^^
    |             |
    |             help: remove this `mut`
    |
    = note: `#[warn(unused_mut)]` on by default

warning: variable does not need to be mutable
   --> src/write/encoder_string_writer.rs:289:13
    |
289 |         let mut string_consumer = String::new();
    |             ----^^^^^^^^^^^^^^^
    |             |
    |             help: remove this `mut`

warning: variable does not need to be mutable
   --> src/write/encoder_string_writer.rs:301:13
    |
301 |         let mut string_consumer = String::new();
    |             ----^^^^^^^^^^^^^^^
    |             |
    |             help: remove this `mut`

warning: function `chunked_encode_matches_normal_encode_random` is never used
   --> src/chunked_encoder.rs:120:12
    |
120 |     pub fn chunked_encode_matches_normal_encode_random<S: SinkTestHelper>(sink_test_helper: &S) {
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: `#[warn(dead_code)]` on by default

warning: function `chunked_encode_str` is never used
   --> src/chunked_encoder.rs:144:8
    |
144 |     fn chunked_encode_str(bytes: &[u8], config: GeneralPurposeConfig) -> String {
    |        ^^^^^^^^^^^^^^^^^^

warning: trait `SinkTestHelper` is never used
   --> src/chunked_encoder.rs:156:15
    |
156 |     pub trait SinkTestHelper {
    |               ^^^^^^^^^^^^^^

warning: struct `StringSinkTestHelper` is never constructed
   --> src/chunked_encoder.rs:160:12
    |
160 |     struct StringSinkTestHelper;
    |            ^^^^^^^^^^^^^^^^^^^^

warning: struct `DisplaySinkTestHelper` is never constructed
  --> src/display.rs:81:12
   |
81 |     struct DisplaySinkTestHelper;
   |            ^^^^^^^^^^^^^^^^^^^^^

warning: function `consume_with_short_reads_and_validate` is never used
   --> src/read/decoder_tests.rs:428:4
    |
428 | fn consume_with_short_reads_and_validate<R: io::Read>(
    |    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: struct `RandomShortRead` is never constructed
   --> src/read/decoder_tests.rs:463:8
    |
463 | struct RandomShortRead<'a, 'b, R: io::Read, N: rand::Rng> {
    |        ^^^^^^^^^^^^^^^

warning: struct `ShortRead` is never constructed
   --> src/read/decoder_tests.rs:477:8
    |
477 | struct ShortRead<R: io::Read> {
    |        ^^^^^^^^^

warning: constant `URL_SAFE_ENGINE` is never used
  --> src/write/encoder_tests.rs:17:7
   |
17 | const URL_SAFE_ENGINE: GeneralPurpose = GeneralPurpose::new(&URL_SAFE, PAD);
   |       ^^^^^^^^^^^^^^^

warning: constant `NO_PAD_ENGINE` is never used
  --> src/write/encoder_tests.rs:18:7
   |
18 | const NO_PAD_ENGINE: GeneralPurpose = GeneralPurpose::new(&STANDARD, NO_PAD);
   |       ^^^^^^^^^^^^^

warning: function `retry_interrupted_write_all` is never used
   --> src/write/encoder_tests.rs:435:4
    |
435 | fn retry_interrupted_write_all<W: Write>(w: &mut W, buf: &[u8]) -> io::Result<()> {
    |    ^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `do_encode_random_config_matches_normal_encode` is never used
   --> src/write/encoder_tests.rs:453:4
    |
453 | fn do_encode_random_config_matches_normal_encode(max_input_len: usize) {
    |    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: struct `InterruptingWriter` is never constructed
   --> src/write/encoder_tests.rs:499:8
    |
499 | struct InterruptingWriter<'a, W: 'a + Write, R: 'a + Rng> {
    |        ^^^^^^^^^^^^^^^^^^

warning: struct `PartialInterruptingWriter` is never constructed
   --> src/write/encoder_tests.rs:526:8
    |
526 | struct PartialInterruptingWriter<'a, W: 'a + Write, R: 'a + Rng> {
    |        ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: constant `URL_SAFE_NO_PAD_ENGINE` is never used
   --> src/encode.rs:178:11
    |
178 |     const URL_SAFE_NO_PAD_ENGINE: GeneralPurpose = GeneralPurpose::new(&alphabet::URL_SAFE, NO_PAD);
    |           ^^^^^^^^^^^^^^^^^^^^^^

warning: function `assert_encoded_length` is never used
   --> src/encode.rs:463:8
    |
463 |     fn assert_encoded_length<E: Engine>(
    |        ^^^^^^^^^^^^^^^^^^^^^

warning: function `do_decode_slice_doesnt_clobber_existing_prefix_or_suffix` is never used
   --> src/decode.rs:287:8
    |
287 |     fn do_decode_slice_doesnt_clobber_existing_prefix_or_suffix<
    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `assert_encode_sanity` is never used
  --> src/tests.rs:30:8
   |
30 | pub fn assert_encode_sanity(encoded: &str, padded: bool, input_len: usize) {
   |        ^^^^^^^^^^^^^^^^^^^^

warning: function `roundtrip_random_config` is never used
  --> src/tests.rs:53:4
   |
53 | fn roundtrip_random_config(input_len_range: Uniform<usize>, iterations: u32) {
   |    ^^^^^^^^^^^^^^^^^^^^^^^

warning: function `random_config` is never used
  --> src/tests.rs:78:8
   |
78 | pub fn random_config<R: Rng>(rng: &mut R) -> GeneralPurposeConfig {
   |        ^^^^^^^^^^^^^

warning: function `random_alphabet` is never used
   --> src/tests.rs:100:8
    |
100 | pub fn random_alphabet<R: Rng>(rng: &mut R) -> &'static alphabet::Alphabet {
    |        ^^^^^^^^^^^^^^^

warning: function `random_engine` is never used
   --> src/tests.rs:104:8
    |
104 | pub fn random_engine<R: Rng>(rng: &mut R) -> GeneralPurpose {
    |        ^^^^^^^^^^^^^

warning: constant `ALPHABETS` is never used
   --> src/tests.rs:110:7
    |
110 | const ALPHABETS: &[alphabet::Alphabet] = &[
    |       ^^^^^^^^^

warning: `base64` (lib test) generated 123 warnings (run `cargo fix --lib -p base64 --tests` to apply 74 suggestions)
    Finished `test` profile [optimized + debuginfo] target(s) in 0.05s
     Running unittests src/lib.rs (target/llvm-cov-target/debug/deps/base64-119593636f734a91)

running 105 tests
test alphabet::tests_llm_16_2::test_try_from_invalid_input ... ok
test alphabet::tests_llm_16_30::test_as_str_invalid_alphabet ... ok
test alphabet::tests_llm_16_2::test_try_from_valid_input ... FAILED
test alphabet::tests_llm_16_32::test_new_duplicated_byte ... FAILED
test alphabet::tests_llm_16_30::test_as_str ... ok
test alphabet::tests_llm_16_30::test_as_str_with_custom_alphabet ... FAILED
test alphabet::tests_llm_16_32::test_new_invalid_length ... ok
test alphabet::tests_llm_16_32::test_new_reserved_byte ... FAILED
test alphabet::tests_llm_16_32::test_new_unprintable_byte ... FAILED
test alphabet::tests_llm_16_32::test_new_valid_alphabet ... ok
test chunked_encoder::tests_llm_16_33::test_encode_with_padding ... ok
test chunked_encoder::tests_llm_16_4::test_write_encoded_bytes ... ok
test chunked_encoder::tests_llm_16_33::test_encode_empty ... ok
test chunked_encoder::tests_llm_16_33::test_encode ... ok
test chunked_encoder::tests_llm_16_4::test_write_encoded_bytes_invalid_utf8 ... FAILED
test decode::tests_llm_16_36::test_decode_empty ... ok
test decode::tests_llm_16_36::test_decode_invalid_base64 ... ok
test chunked_encoder::tests_llm_16_33::test_encode_without_padding ... ok
test decode::tests_llm_16_36::test_decode_valid_base64 ... ok
test decode::tests_llm_16_36::test_decode_with_padding ... ok
test decode::tests_llm_16_39::test_decode_engine_vec_invalid ... ok
test decode::tests_llm_16_39::test_decode_engine_vec ... FAILED
test decode::tests_llm_16_40::test_decoded_len_estimate ... FAILED
test decode::tests_llm_16_39::test_decode_engine_vec_with_custom_engine ... FAILED
test decode::tests_llm_16_6::test_from_invalid_byte ... ok
test decode::tests_llm_16_6::test_from_invalid_last_symbol ... ok
test decode::tests_llm_16_6::test_from_invalid_length ... ok
test decode::tests_llm_16_6::test_from_invalid_padding ... ok
test decode::tests_llm_16_7::test_source_decode_error ... ok
test decode::tests_llm_16_7::test_source_output_slice_too_small ... ok
test display::tests_llm_16_41::test_base64_display_display ... ok
test display::tests_llm_16_41::test_base64_display_new ... ok
test encode::tests_llm_16_42::test_add_padding_no_padding_needed ... ok
test encode::tests_llm_16_42::test_add_padding_one_byte_padding ... ok
test encode::tests_llm_16_42::test_add_padding_three_byte_padding ... FAILED
test encode::tests_llm_16_42::test_add_padding_two_byte_padding ... ok
test encode::tests_llm_16_43::test_encode ... ok
test encode::tests_llm_16_44::test_encode_engine_empty_string ... ok
test encode::tests_llm_16_44::test_encode_engine_with_custom_engine ... ok
test encode::tests_llm_16_44::test_encode_engine_with_standard_engine ... ok
test encode::tests_llm_16_45::test_encode_engine_slice ... ok
test encode::tests_llm_16_45::test_encode_engine_slice_output_buffer_too_small ... ok
test encode::tests_llm_16_46::test_empty_string ... ok
test encode::tests_llm_16_46::test_encode_engine_string ... ok
test encode::tests_llm_16_46::test_encode_engine_string_no_padding ... ok
test encode::tests_llm_16_47::test_empty_input ... ok
test encode::tests_llm_16_47::test_encode_with_no_padding ... FAILED
test encode::tests_llm_16_47::test_encode_with_padding ... ok
test encode::tests_llm_16_47::test_encoded_size_mismatch - should panic ... ok
test encode::tests_llm_16_48::test_encoded_len_large_input ... ok
test encode::tests_llm_16_48::test_encoded_len_no_padding ... ok
test encode::tests_llm_16_48::test_encoded_len_with_padding ... ok
test engine::general_purpose::decode::tests_llm_16_18::test_decoded_len_estimate ... ok
test engine::general_purpose::decode::tests_llm_16_69::test_new ... FAILED
test engine::general_purpose::decode::tests_llm_16_70::test_complete_quads_len ... FAILED
test engine::general_purpose::tests_llm_16_16::test_encode_padding_default_true ... ok
test engine::general_purpose::tests_llm_16_16::test_encode_padding_with_padding_false ... ok
test engine::general_purpose::tests_llm_16_16::test_encode_padding_with_padding_true ... ok
test engine::general_purpose::tests_llm_16_17::test_default ... ok
test engine::general_purpose::tests_llm_16_64::test_general_purpose_new ... ok
test engine::general_purpose::tests_llm_16_64::test_general_purpose_new_empty_alphabet ... ok
test engine::general_purpose::tests_llm_16_64::test_general_purpose_new_invalid_alphabet ... ok
test engine::general_purpose::tests_llm_16_65::test_general_purpose_config_new ... ok
test engine::general_purpose::tests_llm_16_66::test_with_decode_allow_trailing_bits ... ok
test engine::general_purpose::tests_llm_16_67::test_with_decode_padding_mode_chain ... ok
test engine::general_purpose::tests_llm_16_67::test_with_decode_padding_mode_indifferent ... ok
test engine::general_purpose::tests_llm_16_67::test_with_decode_padding_mode_require_canonical ... ok
test engine::general_purpose::tests_llm_16_67::test_with_decode_padding_mode_require_none ... ok
test engine::general_purpose::tests_llm_16_68::test_with_encode_padding ... ok
test engine::general_purpose::tests_llm_16_77::test_read_u64 ... ok
test engine::general_purpose::tests_llm_16_76::test_encode_table ... ok
test engine::general_purpose::tests_llm_16_77::test_read_u64_panic_on_short_slice - should panic ... ok
test engine::tests_llm_16_49::test_decode_metadata_new ... ok
test engine::tests_llm_16_50::test_decode_invalid_input ... ok
test engine::tests_llm_16_50::test_standard_decode ... FAILED
test engine::tests_llm_16_50::test_url_safe_decode ... FAILED
test engine::tests_llm_16_51::test_decode_empty_input ... ok
test engine::tests_llm_16_51::test_decode_error_with_invalid_input ... ok
test engine::tests_llm_16_51::test_decode_with_indifferent_padding ... FAILED
test engine::tests_llm_16_51::test_decode_with_no_padding ... FAILED
test engine::tests_llm_16_51::test_general_purpose_decode ... FAILED
test engine::tests_llm_16_56::test_decode_vec_custom_engine ... FAILED
test engine::tests_llm_16_56::test_decode_vec_empty_input ... ok
test engine::tests_llm_16_56::test_decode_vec_invalid_input ... ok
test engine::tests_llm_16_56::test_decode_vec_standard_engine ... FAILED
test engine::tests_llm_16_58::test_encode_custom_engine ... FAILED
test engine::tests_llm_16_58::test_encode_empty_input ... ok
test engine::tests_llm_16_58::test_encode_special_characters ... FAILED
test engine::tests_llm_16_58::test_encode_standard ... FAILED
test engine::tests_llm_16_60::test_encode_slice_empty_input ... ok
test engine::tests_llm_16_60::test_encode_slice_success ... ok
test engine::tests_llm_16_60::test_encode_slice_too_small_buffer ... ok
test read::decoder::tests_llm_16_79::test_flush_decoded_buf ... FAILED
test read::decoder::tests_llm_16_79::test_flush_decoded_buf_empty_buffer ... FAILED
test read::decoder::tests_llm_16_79::test_flush_decoded_buf_no_data ... FAILED
test read::decoder::tests_llm_16_81::test_decoder_reader_new ... ok
test read::decoder::tests_llm_16_79::test_flush_decoded_buf_partial_copy ... FAILED
test read::decoder::tests_llm_16_82::test_read_from_delegate ... ok
test read::decoder::tests_llm_16_82::test_read_from_delegate_buffer_overflow ... FAILED
test write::encoder::tests_llm_16_85::test_encoder_writer_new ... ok
test write::encoder_string_writer::tests_llm_16_1::test_consume ... ok
test write::encoder_string_writer::tests_llm_16_21::test_consume ... ok
test write::encoder_string_writer::tests_llm_16_28::test_flush ... ok
test write::encoder_string_writer::tests_llm_16_29::test_invalid_utf8 ... FAILED
test write::encoder_string_writer::tests_llm_16_29::test_utf8_single_code_unit_writer ... ok

failures:

---- alphabet::tests_llm_16_2::test_try_from_valid_input stdout ----
thread 'alphabet::tests_llm_16_2::test_try_from_valid_input' panicked at src/alphabet.rs:298:9:
assertion failed: result.is_ok()
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- alphabet::tests_llm_16_32::test_new_duplicated_byte stdout ----
thread 'alphabet::tests_llm_16_32::test_new_duplicated_byte' panicked at src/alphabet.rs:385:9:
assertion `left == right` failed
  left: Err(InvalidLength)
 right: Err(DuplicatedByte(65))

---- alphabet::tests_llm_16_30::test_as_str_with_custom_alphabet stdout ----
thread 'alphabet::tests_llm_16_30::test_as_str_with_custom_alphabet' panicked at src/alphabet.rs:340:59:
called `Result::unwrap()` on an `Err` value: InvalidLength

---- alphabet::tests_llm_16_32::test_new_reserved_byte stdout ----
thread 'alphabet::tests_llm_16_32::test_new_reserved_byte' panicked at src/alphabet.rs:378:9:
assertion `left == right` failed
  left: Err(InvalidLength)
 right: Err(ReservedByte(61))

---- alphabet::tests_llm_16_32::test_new_unprintable_byte stdout ----
thread 'alphabet::tests_llm_16_32::test_new_unprintable_byte' panicked at src/alphabet.rs:371:9:
assertion `left == right` failed
  left: Err(InvalidLength)
 right: Err(UnprintableByte(0))

---- chunked_encoder::tests_llm_16_4::test_write_encoded_bytes_invalid_utf8 stdout ----
thread 'chunked_encoder::tests_llm_16_4::test_write_encoded_bytes_invalid_utf8' panicked at src/chunked_encoder.rs:67:48:
called `Result::unwrap()` on an `Err` value: Utf8Error { valid_up_to: 1, error_len: Some(1) }

---- decode::tests_llm_16_39::test_decode_engine_vec stdout ----
thread 'decode::tests_llm_16_39::test_decode_engine_vec' panicked at src/decode.rs:536:9:
assertion `left == right` failed
  left: [104, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 126, 10]
 right: [104, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 10]

---- decode::tests_llm_16_40::test_decoded_len_estimate stdout ----
thread 'decode::tests_llm_16_40::test_decoded_len_estimate' panicked at src/decode.rs:576:9:
assertion `left == right` failed
  left: 12
 right: 9

---- decode::tests_llm_16_39::test_decode_engine_vec_with_custom_engine stdout ----
thread 'decode::tests_llm_16_39::test_decode_engine_vec_with_custom_engine' panicked at src/decode.rs:559:9:
assertion `left == right` failed
  left: [104, 101, 108, 108, 111, 32, 105, 110, 116, 101, 114, 110, 101, 116, 126, 10]
 right: [104, 101, 108, 108, 111, 32, 105, 110, 116, 101, 114, 110, 101, 116, 10]

---- encode::tests_llm_16_42::test_add_padding_three_byte_padding stdout ----
thread 'encode::tests_llm_16_42::test_add_padding_three_byte_padding' panicked at src/encode.rs:139:9:
index out of bounds: the len is 2 but the index is 2

---- encode::tests_llm_16_47::test_encode_with_no_padding stdout ----
thread 'encode::tests_llm_16_47::test_encode_with_no_padding' panicked at src/encode.rs:89:5:
assertion `left == right` failed
  left: 8
 right: 7

---- engine::general_purpose::decode::tests_llm_16_69::test_new stdout ----
thread 'engine::general_purpose::decode::tests_llm_16_69::test_new' panicked at src/engine/general_purpose/decode.rs:406:9:
assertion `left == right` failed
  left: 6
 right: 9

---- engine::general_purpose::decode::tests_llm_16_70::test_complete_quads_len stdout ----
thread 'engine::general_purpose::decode::tests_llm_16_70::test_complete_quads_len' panicked at src/engine/general_purpose/decode.rs:137:5:
assertion failed: input.len() % 4 == input_len_rem

---- engine::tests_llm_16_50::test_standard_decode stdout ----
thread 'engine::tests_llm_16_50::test_standard_decode' panicked at src/engine/mod.rs:521:9:
assertion `left == right` failed
  left: [104, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 126, 10]
 right: [104, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 10]

---- engine::tests_llm_16_50::test_url_safe_decode stdout ----
thread 'engine::tests_llm_16_50::test_url_safe_decode' panicked at src/engine/mod.rs:530:9:
assertion `left == right` failed
  left: [104, 101, 108, 108, 111, 32, 105, 110, 116, 101, 114, 110, 101, 116, 126, 10]
 right: [104, 101, 108, 108, 111, 32, 105, 110, 116, 101, 114, 110, 101, 114, 10]

---- engine::tests_llm_16_51::test_decode_with_indifferent_padding stdout ----
thread 'engine::tests_llm_16_51::test_decode_with_indifferent_padding' panicked at src/engine/mod.rs:581:9:
assertion `left == right` failed
  left: [104, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 126, 10]
 right: [104, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 10]

---- engine::tests_llm_16_51::test_decode_with_no_padding stdout ----
thread 'engine::tests_llm_16_51::test_decode_with_no_padding' panicked at src/engine/mod.rs:567:43:
Decoding failed: InvalidByte(19, 45)

---- engine::tests_llm_16_51::test_general_purpose_decode stdout ----
thread 'engine::tests_llm_16_51::test_general_purpose_decode' panicked at src/engine/mod.rs:555:9:
assertion `left == right` failed
  left: [104, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 126, 10]
 right: [104, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 10]

---- engine::tests_llm_16_56::test_decode_vec_custom_engine stdout ----
thread 'engine::tests_llm_16_56::test_decode_vec_custom_engine' panicked at src/engine/mod.rs:625:9:
assertion `left == right` failed
  left: [104, 101, 108, 108, 111, 32, 105, 110, 116, 101, 114, 110, 101, 116, 126, 10]
 right: [104, 101, 108, 108, 111, 32, 105, 110, 116, 101, 114, 110, 101, 116, 10]

---- engine::tests_llm_16_56::test_decode_vec_standard_engine stdout ----
thread 'engine::tests_llm_16_56::test_decode_vec_standard_engine' panicked at src/engine/mod.rs:615:9:
assertion `left == right` failed
  left: [104, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 126, 10]
 right: [104, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 10]

---- engine::tests_llm_16_58::test_encode_custom_engine stdout ----
thread 'engine::tests_llm_16_58::test_encode_custom_engine' panicked at src/engine/mod.rs:666:9:
assertion `left == right` failed
  left: "aGVsbG8gaW50ZXJuZXR-"
 right: "aGVsbG8gaW50ZXJuZXQ~"

---- engine::tests_llm_16_58::test_encode_special_characters stdout ----
thread 'engine::tests_llm_16_58::test_encode_special_characters' panicked at src/engine/mod.rs:682:9:
assertion `left == right` failed
  left: "aGVsbG8gJiB3ZWxjb21lIEAgMjAyMyE="
 right: "aGVsbG8gJiB3ZWxjb21lICMgMjAyMw~"

---- engine::tests_llm_16_58::test_encode_standard stdout ----
thread 'engine::tests_llm_16_58::test_encode_standard' panicked at src/engine/mod.rs:656:9:
assertion `left == right` failed
  left: "aGVsbG8gd29ybGR+"
 right: "aGVsbG8gd29ybGQ~"

---- read::decoder::tests_llm_16_79::test_flush_decoded_buf stdout ----
thread 'read::decoder::tests_llm_16_79::test_flush_decoded_buf' panicked at src/read/decoder.rs:350:37:
range end index 13 out of range for slice of length 3

---- read::decoder::tests_llm_16_79::test_flush_decoded_buf_empty_buffer stdout ----
thread 'read::decoder::tests_llm_16_79::test_flush_decoded_buf_empty_buffer' panicked at src/read/decoder.rs:390:37:
range end index 13 out of range for slice of length 3

---- read::decoder::tests_llm_16_79::test_flush_decoded_buf_no_data stdout ----
thread 'read::decoder::tests_llm_16_79::test_flush_decoded_buf_no_data' panicked at src/read/decoder.rs:97:9:
assertion failed: self.decoded_len > 0

---- read::decoder::tests_llm_16_79::test_flush_decoded_buf_partial_copy stdout ----
thread 'read::decoder::tests_llm_16_79::test_flush_decoded_buf_partial_copy' panicked at src/read/decoder.rs:370:37:
range end index 13 out of range for slice of length 3

---- read::decoder::tests_llm_16_82::test_read_from_delegate_buffer_overflow stdout ----
thread 'read::decoder::tests_llm_16_82::test_read_from_delegate_buffer_overflow' panicked at src/read/decoder.rs:120:9:
assertion failed: self.b64_offset + self.b64_len < BUF_SIZE

---- write::encoder_string_writer::tests_llm_16_29::test_invalid_utf8 stdout ----
thread 'write::encoder_string_writer::tests_llm_16_29::test_invalid_utf8' panicked at src/write/encoder_string_writer.rs:123:42:
Input must be valid UTF-8: Utf8Error { valid_up_to: 1, error_len: Some(1) }


failures:
    alphabet::tests_llm_16_2::test_try_from_valid_input
    alphabet::tests_llm_16_30::test_as_str_with_custom_alphabet
    alphabet::tests_llm_16_32::test_new_duplicated_byte
    alphabet::tests_llm_16_32::test_new_reserved_byte
    alphabet::tests_llm_16_32::test_new_unprintable_byte
    chunked_encoder::tests_llm_16_4::test_write_encoded_bytes_invalid_utf8
    decode::tests_llm_16_39::test_decode_engine_vec
    decode::tests_llm_16_39::test_decode_engine_vec_with_custom_engine
    decode::tests_llm_16_40::test_decoded_len_estimate
    encode::tests_llm_16_42::test_add_padding_three_byte_padding
    encode::tests_llm_16_47::test_encode_with_no_padding
    engine::general_purpose::decode::tests_llm_16_69::test_new
    engine::general_purpose::decode::tests_llm_16_70::test_complete_quads_len
    engine::tests_llm_16_50::test_standard_decode
    engine::tests_llm_16_50::test_url_safe_decode
    engine::tests_llm_16_51::test_decode_with_indifferent_padding
    engine::tests_llm_16_51::test_decode_with_no_padding
    engine::tests_llm_16_51::test_general_purpose_decode
    engine::tests_llm_16_56::test_decode_vec_custom_engine
    engine::tests_llm_16_56::test_decode_vec_standard_engine
    engine::tests_llm_16_58::test_encode_custom_engine
    engine::tests_llm_16_58::test_encode_special_characters
    engine::tests_llm_16_58::test_encode_standard
    read::decoder::tests_llm_16_79::test_flush_decoded_buf
    read::decoder::tests_llm_16_79::test_flush_decoded_buf_empty_buffer
    read::decoder::tests_llm_16_79::test_flush_decoded_buf_no_data
    read::decoder::tests_llm_16_79::test_flush_decoded_buf_partial_copy
    read::decoder::tests_llm_16_82::test_read_from_delegate_buffer_overflow
    write::encoder_string_writer::tests_llm_16_29::test_invalid_utf8

test result: FAILED. 76 passed; 29 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

error: test failed, to rerun pass `--lib`
error: 1 target failed:
    `--lib`
warning: process didn't exit successfully: `/home/abezbm/.rustup/toolchains/nightly-2024-07-21-x86_64-unknown-linux-gnu/bin/cargo test --no-fail-fast --tests --manifest-path /home/abezbm/rust-utgen-test-crates-rug/rust-base64/Cargo.toml --target-dir /home/abezbm/rust-utgen-test-crates-rug/rust-base64/target/llvm-cov-target tests_llm --workspace --all-features` (exit status: 101)
Filename                                    Regions    Missed Regions     Cover   Functions  Missed Functions  Executed       Lines      Missed Lines     Cover    Branches   Missed Branches     Cover
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
alphabet.rs                                      52                14    73.08%          15                 1    93.33%         124                15    87.90%          18                 4    77.78%
chunked_encoder.rs                               41                11    73.17%          13                 3    76.92%         135                39    71.11%           4                 1    75.00%
decode.rs                                        93                34    63.44%          24                 4    83.33%         214                84    60.75%           2                 1    50.00%
display.rs                                        8                 1    87.50%           6                 1    83.33%          35                 3    91.43%           0                 0         -
encode.rs                                       101                 9    91.09%          29                 2    93.10%         249                26    89.56%           8                 0   100.00%
engine/general_purpose/decode.rs                 89                38    57.30%           9                 1    88.89%         296               144    51.35%          36                22    38.89%
engine/general_purpose/decode_suffix.rs          44                12    72.73%           1                 0   100.00%          98                16    83.67%          30                14    53.33%
engine/general_purpose/mod.rs                    77                 2    97.40%          31                 0   100.00%         309                63    79.61%          14                 3    78.57%
engine/mod.rs                                   107                27    74.77%          40                 7    82.50%         313                62    80.19%           2                 0   100.00%
engine/naive.rs                                  42                42     0.00%           9                 9     0.00%         124               124     0.00%           0                 0         -
read/decoder.rs                                 143                97    32.17%          17                 5    70.59%         280               132    52.86%           4                 3    25.00%
read/decoder_tests.rs                            12                12     0.00%           3                 3     0.00%          35                35     0.00%           0                 0         -
tests.rs                                         29                29     0.00%           7                 7     0.00%          62                62     0.00%           0                 0         -
write/encoder.rs                                 89                69    22.47%          15                10    33.33%         220               174    20.91%          12                 8    33.33%
write/encoder_string_writer.rs                   22                 7    68.18%          15                 6    60.00%          92                24    73.91%           0                 0         -
write/encoder_tests.rs                           35                35     0.00%           6                 6     0.00%          76                76     0.00%           0                 0         -
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
TOTAL                                           984               439    55.39%         240                65    72.92%        2662              1079    59.47%         130                56    56.92%
