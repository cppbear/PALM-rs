{
  "name": "serde::de::impls::range::<de::impls::range::RangeVisitor<Idx> as de::Visitor<'de>>::visit_seq",
  "name_with_impl": "serde::de::impls::range::{impl#1}::visit_seq",
  "mod_info": {
    "name": "de::impls::range",
    "loc": "serde/src/de/impls.rs:2464:1:2591:2"
  },
  "visible": true,
  "loc": "serde/src/de/impls.rs:2539:9:2556:10",
  "fn_tests": [
    {
      "chain_id": 0,
      "prompt_conds": [],
      "input_infer": "",
      "answers": [
        {
          "uses": [],
          "has_test_mod": false,
          "common": [],
          "chain_tests": [
            {
              "attrs": [],
              "prefix": [],
              "oracles": [],
              "codes": [
                [
                  "{",
                  "    struct TestSeqAccess {",
                  "        data: Vec<i64>,",
                  "        index: usize,",
                  "    }",
                  "",
                  "    impl<'de> SeqAccess<'de> for TestSeqAccess {",
                  "        type Error = MockError;",
                  "",
                  "        fn next_element<T>(&mut self) -> Result<Option<T>, Self::Error>",
                  "        where",
                  "            T: Deserialize<'de>,",
                  "        {",
                  "            if self.index < self.data.len() {",
                  "                let value = self.data[self.index];",
                  "                self.index += 1;",
                  "                Ok(Some(value as T))",
                  "            } else {",
                  "                Ok(None)",
                  "            }",
                  "        }",
                  "    }",
                  "",
                  "    struct MockError;",
                  "",
                  "    impl Error for MockError {",
                  "        fn invalid_length(length: usize, visitor: &dyn Visitor<'_>) -> Self {",
                  "            MockError",
                  "        }",
                  "    }",
                  "",
                  "    let seq_access = TestSeqAccess { data: vec![1, 2], index: 0 };",
                  "    let visitor = RangeVisitor::<i64> {",
                  "        expecting: \"a sequence of two elements\",",
                  "        phantom: std::marker::PhantomData,",
                  "    };",
                  "    let result: Result<(i64, i64), MockError> = visitor.visit_seq(seq_access);",
                  "    assert_eq!(result.unwrap(), (1, 2));",
                  "}"
                ]
              ],
              "can_compile": [
                {
                  "Err": "   Compiling proc-macro2 v1.0.95\n   Compiling syn v1.0.109\n   Compiling serde_derive v1.0.219 (/home/abezbm/rust-utgen-test-crates-new/serde/serde_derive)\n   Compiling serde v1.0.219 (/home/abezbm/rust-utgen-test-crates-new/serde/serde)\n   Compiling quote v1.0.40\n   Compiling syn v2.0.100\n   Compiling ntest_timeout v0.9.3\n   Compiling ntest_test_cases v0.9.3\n   Compiling ntest v0.9.3\nwarning: unused import: `ntest::timeout`\n    --> serde/src/de/impls.rs:2595:8\n     |\n2595 |    use ntest::timeout;\n     |        ^^^^^^^^^^^^^^\n     |\n     = note: `#[warn(unused_imports)]` on by default\n\nerror[E0277]: the trait bound `MockError: std::error::Error` is not satisfied\n    --> serde/src/de/impls.rs:2605:22\n     |\n2605 |         type Error = MockError;\n     |                      ^^^^^^^^^ the trait `std::error::Error` is not implemented for `MockError`, which is required by `<TestSeqAccess as de::SeqAccess<'de>>::Error: de::Error`\n     |\n     = help: the following other types implement trait `de::Error`:\n               MockError\n               value::Error\nnote: required for `<TestSeqAccess as de::SeqAccess<'de>>::Error` to implement `de::Error`\n    --> serde/src/de/mod.rs:161:19\n     |\n161  |         pub trait Error: Sized $(+ $($supertrait)::+)* {\n     |                   ^^^^^\n...\n300  | declare_error_trait!(Error: Sized + StdError);\n     | --------------------------------------------- in this macro invocation\nnote: required by a bound in `de::SeqAccess::Error`\n    --> serde/src/de/mod.rs:1713:17\n     |\n1713 |     type Error: Error;\n     |                 ^^^^^ required by this bound in `SeqAccess::Error`\n     = note: this error originates in the macro `declare_error_trait` (in Nightly builds, run with -Z macro-backtrace for more info)\n\nerror[E0046]: not all trait items implemented, missing: `next_element_seed`\n    --> serde/src/de/impls.rs:2604:5\n     |\n2604 |       impl<'de> SeqAccess<'de> for TestSeqAccess {\n     |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ missing `next_element_seed` in implementation\n     |\n    ::: serde/src/de/mod.rs:1720:5\n     |\n1720 | /     fn next_element_seed<T>(&mut self, seed: T) -> Result<Option<T::Value>, Self::Error>\n1721 | |     where\n1722 | |         T: DeserializeSeed<'de>;\n     | |________________________________- `next_element_seed` from trait\n\nerror[E0277]: the trait bound `MockError: std::error::Error` is not satisfied\n    --> serde/src/de/impls.rs:2623:20\n     |\n2623 |     impl Error for MockError {\n     |                    ^^^^^^^^^ the trait `std::error::Error` is not implemented for `MockError`\n     |\nnote: required by a bound in `de::Error`\n    --> serde/src/de/mod.rs:161:38\n     |\n161  |         pub trait Error: Sized $(+ $($supertrait)::+)* {\n     |                                      ^^^^^^^^^^^ required by this bound in `Error`\n...\n300  | declare_error_trait!(Error: Sized + StdError);\n     | --------------------------------------------- in this macro invocation\n     = note: this error originates in the macro `declare_error_trait` (in Nightly builds, run with -Z macro-backtrace for more info)\n\nerror[E0053]: method `invalid_length` has an incompatible type for trait\n    --> serde/src/de/impls.rs:2624:9\n     |\n2624 |         fn invalid_length(length: usize, visitor: &dyn Visitor<'_>) -> Self {\n     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected trait `Expected`, found trait `Visitor`\n     |\nnote: type in trait\n    --> serde/src/de/mod.rs:241:13\n     |\n241  |             fn invalid_length(len: usize, exp: &dyn Expected) -> Self {\n     |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n...\n300  | declare_error_trait!(Error: Sized + StdError);\n     | --------------------------------------------- in this macro invocation\n     = note: expected signature `fn(_, &dyn Expected) -> MockError`\n                found signature `fn(_, &dyn de::Visitor<'_>) -> MockError`\n     = note: this error originates in the macro `declare_error_trait` (in Nightly builds, run with -Z macro-backtrace for more info)\n\nerror[E0046]: not all trait items implemented, missing: `custom`\n    --> serde/src/de/impls.rs:2623:5\n     |\n2623 |       impl Error for MockError {\n     |       ^^^^^^^^^^^^^^^^^^^^^^^^ missing `custom` in implementation\n     |\n    ::: serde/src/de/mod.rs:191:13\n     |\n191  | /             fn custom<T>(msg: T) -> Self\n192  | |             where\n193  | |                 T: Display;\n     | |___________________________- `custom` from trait\n\nerror[E0038]: the trait `de::Visitor` cannot be made into an object\n    --> serde/src/de/impls.rs:2624:52\n     |\n2624 |         fn invalid_length(length: usize, visitor: &dyn Visitor<'_>) -> Self {\n     |                                                    ^^^^^^^^^^^^^^^ `de::Visitor` cannot be made into an object\n     |\nnote: for a trait to be \"object safe\" it needs to allow building a vtable to allow the call to be resolvable dynamically; for more information visit <https://doc.rust-lang.org/reference/items/traits.html#object-safety>\n    --> serde/src/de/mod.rs:1284:25\n     |\n1284 | pub trait Visitor<'de>: Sized {\n     |           -------       ^^^^^ ...because it requires `Self: Sized`\n     |           |\n     |           this trait cannot be made into an object...\n     = note: `de::Visitor` can be implemented in other crates; if you want to support your users passing their own types here, you can't refer to a specific type\n\nerror[E0277]: `MockError` doesn't implement `std::fmt::Debug`\n    --> serde/src/de/impls.rs:2635:23\n     |\n2635 |     assert_eq!(result.unwrap(), (1, 2));\n     |                       ^^^^^^ `MockError` cannot be formatted using `{:?}`\n     |\n     = help: the trait `std::fmt::Debug` is not implemented for `MockError`\n     = note: add `#[derive(Debug)]` to `MockError` or manually `impl std::fmt::Debug for MockError`\nnote: required by a bound in `Result::<T, E>::unwrap`\n    --> /home/abezbm/.rustup/toolchains/nightly-2024-07-21-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/result.rs:1098:12\n     |\n1096 |     pub fn unwrap(self) -> T\n     |            ------ required by a bound in this associated function\n1097 |     where\n1098 |         E: fmt::Debug,\n     |            ^^^^^^^^^^ required by this bound in `Result::<T, E>::unwrap`\nhelp: consider annotating `MockError` with `#[derive(Debug)]`\n     |\n2621 +     #[derive(Debug)]\n2622 |     struct MockError;\n     |\n\nerror[E0605]: non-primitive cast: `i64` as `T`\n    --> serde/src/de/impls.rs:2614:25\n     |\n2614 |                 Ok(Some(value as T))\n     |                         ^^^^^^^^^^ an `as` expression can only be used to convert between primitive types or to coerce to a specific trait object\n\nwarning: unused variable: `length`\n    --> serde/src/de/impls.rs:2624:27\n     |\n2624 |         fn invalid_length(length: usize, visitor: &dyn Visitor<'_>) -> Self {\n     |                           ^^^^^^ help: if this is intentional, prefix it with an underscore: `_length`\n     |\n     = note: `#[warn(unused_variables)]` on by default\n\nwarning: unused variable: `visitor`\n    --> serde/src/de/impls.rs:2624:42\n     |\n2624 |         fn invalid_length(length: usize, visitor: &dyn Visitor<'_>) -> Self {\n     |                                          ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_visitor`\n\nSome errors have detailed explanations: E0038, E0046, E0053, E0277, E0605.\nFor more information about an error, try `rustc --explain E0038`.\nwarning: `serde` (lib test) generated 3 warnings\nerror: could not compile `serde` (lib test) due to 8 previous errors; 3 warnings emitted\n"
                }
              ],
              "repaired": [
                false
              ]
            },
            {
              "attrs": [],
              "prefix": [],
              "oracles": [],
              "codes": [
                [
                  "{",
                  "    struct TestSeqAccess {",
                  "        data: Vec<i64>,",
                  "        index: usize,",
                  "    }",
                  "",
                  "    impl<'de> SeqAccess<'de> for TestSeqAccess {",
                  "        type Error = MockError;",
                  "",
                  "        fn next_element<T>(&mut self) -> Result<Option<T>, Self::Error>",
                  "        where",
                  "            T: Deserialize<'de>,",
                  "        {",
                  "            if self.index < self.data.len() {",
                  "                let value = self.data[self.index];",
                  "                self.index += 1;",
                  "                Ok(Some(value as T))",
                  "            } else {",
                  "                Ok(None)",
                  "            }",
                  "        }",
                  "    }",
                  "",
                  "    let seq_access = TestSeqAccess { data: vec![1], index: 0 };",
                  "    let visitor = RangeVisitor::<i64> {",
                  "        expecting: \"a sequence of two elements\",",
                  "        phantom: std::marker::PhantomData,",
                  "    };",
                  "    let result: Result<(i64, i64), MockError> = visitor.visit_seq(seq_access);",
                  "    assert!(result.is_err());",
                  "}"
                ]
              ],
              "can_compile": [
                {
                  "Err": "   Compiling proc-macro2 v1.0.95\n   Compiling syn v1.0.109\n   Compiling serde_derive v1.0.219 (/home/abezbm/rust-utgen-test-crates-new/serde/serde_derive)\n   Compiling serde v1.0.219 (/home/abezbm/rust-utgen-test-crates-new/serde/serde)\n   Compiling quote v1.0.40\n   Compiling syn v2.0.100\n   Compiling ntest_timeout v0.9.3\n   Compiling ntest_test_cases v0.9.3\n   Compiling ntest v0.9.3\nerror[E0412]: cannot find type `MockError` in this scope\n    --> serde/src/de/impls.rs:2605:22\n     |\n2605 |         type Error = MockError;\n     |                      ^^^^^^^^^ not found in this scope\n\nerror[E0412]: cannot find type `MockError` in this scope\n    --> serde/src/de/impls.rs:2626:36\n     |\n2626 |     let result: Result<(i64, i64), MockError> = visitor.visit_seq(seq_access);\n     |                                    ^^^^^^^^^ not found in this scope\n     |\nhelp: you might be missing a type parameter\n     |\n2597 | fn test_visit_seq_01<MockError>()\n     |                     +++++++++++\n\nwarning: unused import: `ntest::timeout`\n    --> serde/src/de/impls.rs:2595:8\n     |\n2595 |    use ntest::timeout;\n     |        ^^^^^^^^^^^^^^\n     |\n     = note: `#[warn(unused_imports)]` on by default\n\nerror[E0046]: not all trait items implemented, missing: `next_element_seed`\n    --> serde/src/de/impls.rs:2604:5\n     |\n2604 |       impl<'de> SeqAccess<'de> for TestSeqAccess {\n     |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ missing `next_element_seed` in implementation\n     |\n    ::: serde/src/de/mod.rs:1720:5\n     |\n1720 | /     fn next_element_seed<T>(&mut self, seed: T) -> Result<Option<T::Value>, Self::Error>\n1721 | |     where\n1722 | |         T: DeserializeSeed<'de>;\n     | |________________________________- `next_element_seed` from trait\n\nerror[E0605]: non-primitive cast: `i64` as `T`\n    --> serde/src/de/impls.rs:2614:25\n     |\n2614 |                 Ok(Some(value as T))\n     |                         ^^^^^^^^^^ an `as` expression can only be used to convert between primitive types or to coerce to a specific trait object\n\nSome errors have detailed explanations: E0046, E0412, E0605.\nFor more information about an error, try `rustc --explain E0046`.\nwarning: `serde` (lib test) generated 1 warning\nerror: could not compile `serde` (lib test) due to 4 previous errors; 1 warning emitted\n"
                }
              ],
              "repaired": [
                false
              ]
            },
            {
              "attrs": [],
              "prefix": [],
              "oracles": [],
              "codes": [
                [
                  "{",
                  "    struct TestSeqAccess {",
                  "        data: Vec<i64>,",
                  "        index: usize,",
                  "    }",
                  "",
                  "    impl<'de> SeqAccess<'de> for TestSeqAccess {",
                  "        type Error = MockError;",
                  "",
                  "        fn next_element<T>(&mut self) -> Result<Option<T>, Self::Error>",
                  "        where",
                  "            T: Deserialize<'de>,",
                  "        {",
                  "            if self.index < self.data.len() {",
                  "                let value = self.data[self.index];",
                  "                self.index += 1;",
                  "                Ok(Some(value as T))",
                  "            } else {",
                  "                Ok(None)",
                  "            }",
                  "        }",
                  "    }",
                  "",
                  "    let seq_access = TestSeqAccess { data: vec![1, 2, 3], index: 0 };",
                  "    let visitor = RangeVisitor::<i64> {",
                  "        expecting: \"a sequence of two elements\",",
                  "        phantom: std::marker::PhantomData,",
                  "    };",
                  "    let result: Result<(i64, i64), MockError> = visitor.visit_seq(seq_access);",
                  "    assert!(result.is_err());",
                  "}"
                ]
              ],
              "can_compile": [
                {
                  "Err": "   Compiling proc-macro2 v1.0.95\n   Compiling syn v1.0.109\n   Compiling serde_derive v1.0.219 (/home/abezbm/rust-utgen-test-crates-new/serde/serde_derive)\n   Compiling serde v1.0.219 (/home/abezbm/rust-utgen-test-crates-new/serde/serde)\n   Compiling quote v1.0.40\n   Compiling syn v2.0.100\n   Compiling ntest_timeout v0.9.3\n   Compiling ntest_test_cases v0.9.3\n   Compiling ntest v0.9.3\nerror[E0412]: cannot find type `MockError` in this scope\n    --> serde/src/de/impls.rs:2605:22\n     |\n2605 |         type Error = MockError;\n     |                      ^^^^^^^^^ not found in this scope\n\nerror[E0412]: cannot find type `MockError` in this scope\n    --> serde/src/de/impls.rs:2626:36\n     |\n2626 |     let result: Result<(i64, i64), MockError> = visitor.visit_seq(seq_access);\n     |                                    ^^^^^^^^^ not found in this scope\n     |\nhelp: you might be missing a type parameter\n     |\n2597 | fn test_visit_seq_02<MockError>()\n     |                     +++++++++++\n\nwarning: unused import: `ntest::timeout`\n    --> serde/src/de/impls.rs:2595:8\n     |\n2595 |    use ntest::timeout;\n     |        ^^^^^^^^^^^^^^\n     |\n     = note: `#[warn(unused_imports)]` on by default\n\nerror[E0046]: not all trait items implemented, missing: `next_element_seed`\n    --> serde/src/de/impls.rs:2604:5\n     |\n2604 |       impl<'de> SeqAccess<'de> for TestSeqAccess {\n     |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ missing `next_element_seed` in implementation\n     |\n    ::: serde/src/de/mod.rs:1720:5\n     |\n1720 | /     fn next_element_seed<T>(&mut self, seed: T) -> Result<Option<T::Value>, Self::Error>\n1721 | |     where\n1722 | |         T: DeserializeSeed<'de>;\n     | |________________________________- `next_element_seed` from trait\n\nerror[E0605]: non-primitive cast: `i64` as `T`\n    --> serde/src/de/impls.rs:2614:25\n     |\n2614 |                 Ok(Some(value as T))\n     |                         ^^^^^^^^^^ an `as` expression can only be used to convert between primitive types or to coerce to a specific trait object\n\nSome errors have detailed explanations: E0046, E0412, E0605.\nFor more information about an error, try `rustc --explain E0046`.\nwarning: `serde` (lib test) generated 1 warning\nerror: could not compile `serde` (lib test) due to 4 previous errors; 1 warning emitted\n"
                }
              ],
              "repaired": [
                false
              ]
            }
          ]
        }
      ]
    }
  ]
}