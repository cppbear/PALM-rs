{"function_name":"once_cell::race::race::OnceNonZeroUsize::set","file_path":"/home/abezbm/rust-utgen-test-crates-new/once_cell/src/race.rs","work_dir":"/home/abezbm/rust-utgen-test-crates-new/once_cell","tests":4,"tests_lines":[35,33,38,38],"oracles":4,"oracles_compiled":4,"oracles_compiled_rate":100.0,"tests_compiled":4,"tests_compiled_rate":100.0,"oracles_run":4,"oracles_passed":4,"oracles_passed_rate":100.0,"tests_run":4,"tests_passed":4,"tests_passed_rate":100.0,"lines":5,"lines_covered":0,"lines_coveraged_rate":0.0,"branches":1,"branches_covered":0,"branches_coverage_rate":0.0,"codes_lines":[107,108,109,110,112],"codes_lines_covered":[[["{","    use std::num::NonZeroUsize;","","    struct Cell {","        value: Option<NonZeroUsize>,","    }","","    impl Cell {","        fn new() -> Self {","            Cell { value: None }","        }","","        fn compare_exchange(&self, value: NonZeroUsize) -> Result<(), ()> {","            if self.value.is_some() {","                Err(())","            } else {","                Ok(())","            }","        }","","        pub fn set(&self, value: NonZeroUsize) -> Result<(), ()> {","            match self.compare_exchange(value) {","                Ok(_) => Ok(()),","                Err(_) => Err(()),","            }","        }","    }","","    let cell = Cell {","        value: Some(NonZeroUsize::new(1).unwrap()),","    };","","    let result = cell.set(NonZeroUsize::new(2).unwrap());","    assert_eq!(result, Err(()));","}"],[]],[["{","    use std::num::NonZeroUsize;","","    struct Cell {","        value: Option<NonZeroUsize>,","    }","","    impl Cell {","        fn new() -> Self {","            Cell { value: None }","        }","","        fn compare_exchange(&self, value: NonZeroUsize) -> Result<(), ()> {","            if self.value.is_some() {","                Err(())","            } else {","                Ok(())","            }","        }","","        pub fn set(&self, value: NonZeroUsize) -> Result<(), ()> {","            match self.compare_exchange(value) {","                Ok(_) => Ok(()),","                Err(_) => Err(()),","            }","        }","    }","","    let cell = Cell::new();","","    let result = cell.set(NonZeroUsize::new(2).unwrap());","    assert_eq!(result, Ok(()));","}"],[]],[["{","    use std::num::NonZeroUsize;","    use std::sync::atomic::{AtomicUsize, Ordering};","","    struct Cell {","        value: AtomicUsize,","    }","","    impl Cell {","        fn new() -> Self {","            Cell {","                value: AtomicUsize::new(0),","            }","        }","","        fn compare_exchange(&self, value: NonZeroUsize) -> Result<NonZeroUsize, NonZeroUsize> {","            let current = self.value.load(Ordering::SeqCst);","            if current == 0 {","                self.value.store(value.get(), Ordering::SeqCst);","                Ok(value)","            } else {","                Err(value)","            }","        }","","        pub fn set(&self, value: NonZeroUsize) -> Result<(), ()> {","            match self.compare_exchange(value) {","                Ok(_) => Ok(()),","                Err(_) => Err(()),","            }","        }","    }","","    let cell = Cell::new();","    let non_zero_value = NonZeroUsize::new(1).unwrap();","    ","    assert_eq!(cell.set(non_zero_value), Ok(()));","}"],[]],[["{","    use std::num::NonZeroUsize;","    use std::sync::atomic::{AtomicUsize, Ordering};","","    struct Cell {","        value: AtomicUsize,","    }","","    impl Cell {","        fn new() -> Self {","            Cell {","                value: AtomicUsize::new(1),","            }","        }","","        fn compare_exchange(&self, value: NonZeroUsize) -> Result<NonZeroUsize, NonZeroUsize> {","            let current = self.value.load(Ordering::SeqCst);","            if current == 0 {","                self.value.store(value.get(), Ordering::SeqCst);","                Ok(value)","            } else {","                Err(value)","            }","        }","","        pub fn set(&self, value: NonZeroUsize) -> Result<(), ()> {","            match self.compare_exchange(value) {","                Ok(_) => Ok(()),","                Err(_) => Err(()),","            }","        }","    }","","    let cell = Cell::new();","    let non_zero_value = NonZeroUsize::new(2).unwrap();","    ","    assert_eq!(cell.set(non_zero_value), Err(()));","}"],[]]],"codes_branches":[],"codes_branches_covered":[[["{","    use std::num::NonZeroUsize;","","    struct Cell {","        value: Option<NonZeroUsize>,","    }","","    impl Cell {","        fn new() -> Self {","            Cell { value: None }","        }","","        fn compare_exchange(&self, value: NonZeroUsize) -> Result<(), ()> {","            if self.value.is_some() {","                Err(())","            } else {","                Ok(())","            }","        }","","        pub fn set(&self, value: NonZeroUsize) -> Result<(), ()> {","            match self.compare_exchange(value) {","                Ok(_) => Ok(()),","                Err(_) => Err(()),","            }","        }","    }","","    let cell = Cell {","        value: Some(NonZeroUsize::new(1).unwrap()),","    };","","    let result = cell.set(NonZeroUsize::new(2).unwrap());","    assert_eq!(result, Err(()));","}"],[]],[["{","    use std::num::NonZeroUsize;","","    struct Cell {","        value: Option<NonZeroUsize>,","    }","","    impl Cell {","        fn new() -> Self {","            Cell { value: None }","        }","","        fn compare_exchange(&self, value: NonZeroUsize) -> Result<(), ()> {","            if self.value.is_some() {","                Err(())","            } else {","                Ok(())","            }","        }","","        pub fn set(&self, value: NonZeroUsize) -> Result<(), ()> {","            match self.compare_exchange(value) {","                Ok(_) => Ok(()),","                Err(_) => Err(()),","            }","        }","    }","","    let cell = Cell::new();","","    let result = cell.set(NonZeroUsize::new(2).unwrap());","    assert_eq!(result, Ok(()));","}"],[]],[["{","    use std::num::NonZeroUsize;","    use std::sync::atomic::{AtomicUsize, Ordering};","","    struct Cell {","        value: AtomicUsize,","    }","","    impl Cell {","        fn new() -> Self {","            Cell {","                value: AtomicUsize::new(0),","            }","        }","","        fn compare_exchange(&self, value: NonZeroUsize) -> Result<NonZeroUsize, NonZeroUsize> {","            let current = self.value.load(Ordering::SeqCst);","            if current == 0 {","                self.value.store(value.get(), Ordering::SeqCst);","                Ok(value)","            } else {","                Err(value)","            }","        }","","        pub fn set(&self, value: NonZeroUsize) -> Result<(), ()> {","            match self.compare_exchange(value) {","                Ok(_) => Ok(()),","                Err(_) => Err(()),","            }","        }","    }","","    let cell = Cell::new();","    let non_zero_value = NonZeroUsize::new(1).unwrap();","    ","    assert_eq!(cell.set(non_zero_value), Ok(()));","}"],[]],[["{","    use std::num::NonZeroUsize;","    use std::sync::atomic::{AtomicUsize, Ordering};","","    struct Cell {","        value: AtomicUsize,","    }","","    impl Cell {","        fn new() -> Self {","            Cell {","                value: AtomicUsize::new(1),","            }","        }","","        fn compare_exchange(&self, value: NonZeroUsize) -> Result<NonZeroUsize, NonZeroUsize> {","            let current = self.value.load(Ordering::SeqCst);","            if current == 0 {","                self.value.store(value.get(), Ordering::SeqCst);","                Ok(value)","            } else {","                Err(value)","            }","        }","","        pub fn set(&self, value: NonZeroUsize) -> Result<(), ()> {","            match self.compare_exchange(value) {","                Ok(_) => Ok(()),","                Err(_) => Err(()),","            }","        }","    }","","    let cell = Cell::new();","    let non_zero_value = NonZeroUsize::new(2).unwrap();","    ","    assert_eq!(cell.set(non_zero_value), Err(()));","}"],[]]]}