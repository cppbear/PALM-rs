{"function_name":"once_cell::sync::sync::OnceCell<T>::try_insert","tests":3,"tests_lines":[26,35,36],"oracles":3,"oracles_compiled":1,"oracles_compiled_rate":33.33333333333333,"tests_compiled":1,"tests_compiled_rate":33.33333333333333,"oracles_run":1,"oracles_passed":0,"oracles_passed_rate":0.0,"tests_run":1,"tests_passed":0,"tests_passed_rate":0.0,"lines":7,"lines_covered":7,"lines_coveraged_rate":100.0,"branches":1,"branches_covered":1,"branches_coverage_rate":100.0,"codes_lines":[1080,1081,1082,1083,1084,1085,1087],"codes_lines_covered":[[["{","  struct TestCell(OnceCell<i32>);  "," ","  impl TestCell {  ","      const fn new() -> Self {  ","          TestCell(OnceCell::new())  ","      }  "," ","      fn get(&self) -> Option<&i32> {  ","          self.0.get()  ","      }  "," ","      fn try_insert(&self, value: i32) -> Result<&i32, (&i32, i32)> {  ","          let mut value = Some(value);  ","          let res = self.get_or_init(|| unsafe { value.take().unwrap_unchecked() });  ","          match value {  ","              None => Ok(res),  ","              Some(value) => Err((res, value)),  ","          }  ","      }  "," ","      fn get_or_init<F>(&self, f: F) -> &i32  ","      where  ","          F: FnOnce() -> i32,  ","      {  ","          self.0.set(f()).unwrap(); // replace with set method to initialize the cell  ","          self.0.get().unwrap() // added this line to return the reference  ","      }  ","  }  ","  let cell = TestCell::new();  ","  assert!(cell.get().is_none());  "," ","  assert_eq!(cell.try_insert(99), Ok(&99));  ","  assert_eq!(cell.try_insert(77), Err((&99, 77)));  ","  assert!(cell.get().is_some());  ","}"],[1080,1081,1082,1083,1084,1085,1087]]],"codes_branches":[],"codes_branches_covered":[[["{","  struct TestCell(OnceCell<i32>);  "," ","  impl TestCell {  ","      const fn new() -> Self {  ","          TestCell(OnceCell::new())  ","      }  "," ","      fn get(&self) -> Option<&i32> {  ","          self.0.get()  ","      }  "," ","      fn try_insert(&self, value: i32) -> Result<&i32, (&i32, i32)> {  ","          let mut value = Some(value);  ","          let res = self.get_or_init(|| unsafe { value.take().unwrap_unchecked() });  ","          match value {  ","              None => Ok(res),  ","              Some(value) => Err((res, value)),  ","          }  ","      }  "," ","      fn get_or_init<F>(&self, f: F) -> &i32  ","      where  ","          F: FnOnce() -> i32,  ","      {  ","          self.0.set(f()).unwrap(); // replace with set method to initialize the cell  ","          self.0.get().unwrap() // added this line to return the reference  ","      }  ","  }  ","  let cell = TestCell::new();  ","  assert!(cell.get().is_none());  "," ","  assert_eq!(cell.try_insert(99), Ok(&99));  ","  assert_eq!(cell.try_insert(77), Err((&99, 77)));  ","  assert!(cell.get().is_some());  ","}"],[]]]}