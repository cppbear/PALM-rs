{"function_name":"bytes::bytes::shared_to_vec_impl","tests":3,"tests_lines":[27,27,8],"oracles":3,"oracles_compiled":3,"oracles_compiled_rate":100.0,"tests_compiled":3,"tests_compiled_rate":100.0,"oracles_run":3,"oracles_passed":0,"oracles_passed_rate":0.0,"tests_run":3,"tests_passed":0,"tests_passed_rate":0.0,"lines":24,"lines_covered":21,"lines_coveraged_rate":87.5,"branches":2,"branches_covered":1,"branches_coverage_rate":50.0,"codes_lines":[1393,1394,1395,1396,1397,1398,1399,1400,1401,1402,1403,1406,1407,1408,1409,1410,1411,1412,1413,1414,1416,1417,1418,1420],"codes_lines_covered":[[["{","    use std::ptr;","    use std::alloc::{alloc, dealloc, Layout};","    use std::slice;","","    let len = 10;","    let layout = Layout::array::<u8>(len).unwrap();","    let buf = unsafe { alloc(layout) };","    assert!(!buf.is_null());","","    let shared = Box::into_raw(Box::new(Shared {","        buf,","        cap: len,","        ref_cnt: AtomicUsize::new(1),","    }));","","    let data_ptr: *const u8 = vec![1, 2, 3, 4, 5, 6, 7, 8, 9, 10].as_ptr();","    ","    let vec = unsafe { shared_to_vec_impl(shared, data_ptr, len) };","","    assert_eq!(vec.len(), len);","    assert_eq!(vec, vec![1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);","","    unsafe {","        dealloc(buf, layout);","    }","}"],[1393,1394,1395,1396,1397,1398,1399,1400,1401,1402,1403,1406,1407,1408,1409,1410,1411,1412,1413,1414,1420]],[["{","    use std::ptr;","    use std::alloc::{alloc, dealloc, Layout};","    use std::slice;","","    let len = 10;","    let layout = Layout::array::<u8>(len).unwrap();","    let buf = unsafe { alloc(layout) };","    assert!(!buf.is_null());","","    let shared = Box::into_raw(Box::new(Shared {","        buf,","        cap: len,","        ref_cnt: AtomicUsize::new(2), // Make it non-unique","    }));","","    let data_ptr: *const u8 = vec![1, 2, 3, 4, 5, 6, 7, 8, 9, 10].as_ptr();","    ","    let vec = unsafe { shared_to_vec_impl(shared, data_ptr, len) };","","    assert_eq!(vec.len(), len);","    assert_eq!(vec, vec![1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);","","    unsafe {","        dealloc(buf, layout);","    }","}"],[]],[["{","    let invalid_shared: *mut Shared = std::ptr::null_mut();","    let data_ptr: *const u8 = std::ptr::null();","    ","    unsafe {","        shared_to_vec_impl(invalid_shared, data_ptr, 0);","    }","}"],[]]],"codes_branches":[{"start_line":1400,"start_column":8,"end_line":1403,"end_column":17,"positive":true,"negative":false}],"codes_branches_covered":[[["{","    use std::ptr;","    use std::alloc::{alloc, dealloc, Layout};","    use std::slice;","","    let len = 10;","    let layout = Layout::array::<u8>(len).unwrap();","    let buf = unsafe { alloc(layout) };","    assert!(!buf.is_null());","","    let shared = Box::into_raw(Box::new(Shared {","        buf,","        cap: len,","        ref_cnt: AtomicUsize::new(1),","    }));","","    let data_ptr: *const u8 = vec![1, 2, 3, 4, 5, 6, 7, 8, 9, 10].as_ptr();","    ","    let vec = unsafe { shared_to_vec_impl(shared, data_ptr, len) };","","    assert_eq!(vec.len(), len);","    assert_eq!(vec, vec![1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);","","    unsafe {","        dealloc(buf, layout);","    }","}"],[{"start_line":1400,"start_column":8,"end_line":1403,"end_column":17,"positive":true,"negative":false}]],[["{","    use std::ptr;","    use std::alloc::{alloc, dealloc, Layout};","    use std::slice;","","    let len = 10;","    let layout = Layout::array::<u8>(len).unwrap();","    let buf = unsafe { alloc(layout) };","    assert!(!buf.is_null());","","    let shared = Box::into_raw(Box::new(Shared {","        buf,","        cap: len,","        ref_cnt: AtomicUsize::new(2), // Make it non-unique","    }));","","    let data_ptr: *const u8 = vec![1, 2, 3, 4, 5, 6, 7, 8, 9, 10].as_ptr();","    ","    let vec = unsafe { shared_to_vec_impl(shared, data_ptr, len) };","","    assert_eq!(vec.len(), len);","    assert_eq!(vec, vec![1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);","","    unsafe {","        dealloc(buf, layout);","    }","}"],[{"start_line":1400,"start_column":8,"end_line":1403,"end_column":17,"positive":false,"negative":false}]],[["{","    let invalid_shared: *mut Shared = std::ptr::null_mut();","    let data_ptr: *const u8 = std::ptr::null();","    ","    unsafe {","        shared_to_vec_impl(invalid_shared, data_ptr, 0);","    }","}"],[{"start_line":1400,"start_column":8,"end_line":1403,"end_column":17,"positive":false,"negative":false}]]]}