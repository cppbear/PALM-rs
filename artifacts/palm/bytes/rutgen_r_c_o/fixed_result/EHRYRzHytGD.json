{"function_name":"bytes::bytes_mut::release_shared","file_path":"/home/abezbm/rust-utgen-test-crates-new/bytes/src/bytes_mut.rs","work_dir":"/home/abezbm/rust-utgen-test-crates-new/bytes","tests":24,"tests_lines":[14,14,14,14,14,14,15,18,15,15,16,15,18,18,18,21,24,27,17,17,18,18,26,29],"oracles":10,"oracles_compiled":10,"oracles_compiled_rate":100.0,"tests_compiled":24,"tests_compiled_rate":100.0,"oracles_run":10,"oracles_passed":8,"oracles_passed_rate":80.0,"tests_run":24,"tests_passed":18,"tests_passed_rate":75.0,"lines":31,"lines_covered":31,"lines_coveraged_rate":100.0,"branches":2,"branches_covered":2,"branches_coverage_rate":100.0,"codes_lines":[1433,1434,1435,1436,1437,1438,1439,1440,1441,1442,1443,1444,1445,1446,1447,1448,1449,1450,1451,1452,1453,1454,1455,1456,1457,1458,1459,1460,1461,1462,1463],"codes_lines_covered":[[["{","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(2),","    });","    let ptr = Box::into_raw(shared);","    unsafe {","        release_shared(ptr);","   }  ","   let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(2) });  ","   let ptr = Box::into_raw(shared);  ","   unsafe { assert_eq!((*ptr).ref_count.load(Ordering::Relaxed), 1); }  ","}"],[1433,1434,1435,1436,1463]],[["{","   let shared = Box::new(Shared {","       vec: Vec::new(),","       original_capacity_repr: 0,","       ref_count: AtomicUsize::new(2),","   });","   let ptr = Box::into_raw(shared);","   unsafe {","       release_shared(ptr);","   }","   let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(2) });","   let ptr = Box::into_raw(shared);","   unsafe { assert_eq!((*ptr).original_capacity_repr, 0); }","}"],[1433,1434,1435,1436,1463]],[["{","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(2),","    });","    let ptr = Box::into_raw(shared);","    unsafe {","        release_shared(ptr);","    }","    let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(2) });","    let ptr = Box::into_raw(shared);","    assert!(ptr.is_null() == false);","}"],[1433,1434,1435,1436,1463]],[["{","   let shared = Box::new(Shared {","       vec: Vec::new(),","       original_capacity_repr: 0,","       ref_count: AtomicUsize::new(usize::MAX),","   });","   let ptr = Box::into_raw(shared);","   unsafe {","       release_shared(ptr);","   }","   let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(usize::MAX) });","   let ptr = Box::into_raw(shared);","   unsafe { assert_eq!((*ptr).ref_count.load(Ordering::Acquire), usize::MAX); }","}"],[1433,1434,1435,1436,1463]],[["{","   let shared = Box::new(Shared {  ","       vec: Vec::new(),  ","       original_capacity_repr: 0,  ","       ref_count: AtomicUsize::new(usize::MAX),  ","   });  ","   let ptr = Box::into_raw(shared);  ","   unsafe {  ","       release_shared(ptr);  ","   }  ","   let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(usize::MAX) });  ","   let ptr = Box::into_raw(shared);  ","   unsafe { assert_eq!((*ptr).ref_count.fetch_sub(1, Ordering::Release), usize::MAX); }  ","}"],[1433,1434,1435,1436,1463]],[["{","   let shared = Box::new(Shared {  ","       vec: Vec::new(),  ","       original_capacity_repr: 0,  ","       ref_count: AtomicUsize::new(usize::MAX),  ","   });  ","   let ptr = Box::into_raw(shared);  ","   unsafe {  ","       release_shared(ptr);  ","   }  ","   let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(usize::MAX) });  ","   let ptr = Box::into_raw(shared);  ","   unsafe { assert_eq!((*ptr).ref_count.load(Ordering::Acquire), usize::MAX - 1); }  ","}"],[1433,1434,1435,1436,1463]],[["{","   let shared = Box::new(Shared {","       vec: Vec::new(),","       original_capacity_repr: 0,","       ref_count: AtomicUsize::new(3),","   });","   let ptr = Box::into_raw(shared);","   unsafe {","       release_shared(ptr);","   }","   let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(3) });","   let ptr = Box::into_raw(shared);","   unsafe { release_shared(ptr); }","   unsafe { assert_eq!((*ptr).ref_count.load(Ordering::Relaxed), 2); }","}"],[1433,1434,1435,1436,1463]],[["{","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(4),","    });","    let ptr = Box::into_raw(shared);","    unsafe {","        release_shared(ptr);","    }","    let shared = Box::new(Shared {","    vec: Vec::new(),","    original_capacity_repr: 0,","    ref_count: AtomicUsize::new(4),","    });","    let ptr = Box::into_raw(shared);","   unsafe { assert_eq!((*ptr).ref_count.load(Ordering::Acquire), 3); }","}"],[1433,1434,1435,1436,1463]],[["{","   let shared = Box::new(Shared {","       vec: Vec::new(),","       original_capacity_repr: 0,","       ref_count: AtomicUsize::new(5),","   });","   let ptr = Box::into_raw(shared);","   unsafe {","       release_shared(ptr);","   }","   let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(5) });","   let ptr = Box::into_raw(shared);","   unsafe { release_shared(ptr); }","   unsafe { assert_eq!((*ptr).ref_count.load(Ordering::Relaxed), 4); }","}"],[1433,1434,1435,1436,1463]],[["{","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(5),","    });","    let ptr = Box::into_raw(shared);","    unsafe {","        release_shared(ptr);","    }","    let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(5) });","    let ptr = Box::into_raw(shared);","    unsafe { release_shared(ptr); }","    assert!(ptr.is_null() == false);","}"],[1433,1434,1435,1436,1463]],[["{","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(5),","    });","    let ptr = Box::into_raw(shared);","    unsafe {","        release_shared(ptr);","    }","    let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(5) });","    let ptr = Box::into_raw(shared);","    unsafe { release_shared(ptr); }","   let shared = unsafe { &*ptr };  ","   assert_eq!(shared.original_capacity_repr, 0);  ","}"],[1433,1434,1435,1436,1463]],[["{","   let shared = Box::new(Shared {","       vec: Vec::new(),","       original_capacity_repr: 0,","       ref_count: AtomicUsize::new(5),","   });","   let ptr = Box::into_raw(shared);","   unsafe {","       release_shared(ptr);","   }","   let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(5) });","   let ptr = Box::into_raw(shared);","   unsafe { release_shared(ptr); }","   unsafe { assert_eq!((*ptr).vec.len(), 0); }","}"],[1433,1434,1435,1436,1463]],[["{","    use core::sync::atomic::AtomicUsize;","","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(1),","    });","","   let ptr = Box::into_raw(shared);","   unsafe {","       release_shared(ptr);","   }","   let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(1) });","   let ptr = Box::into_raw(shared);","   unsafe { release_shared(ptr) };","   let ref_count = unsafe { (*ptr).ref_count.load(Ordering::Relaxed) };","}"],[1433,1434,1435,1437,1438,1439,1440,1441,1442,1443,1444,1445,1446,1447,1448,1449,1450,1451,1452,1453,1454,1455,1456,1457,1458,1459,1460,1461,1462,1463]],[["{","    use core::sync::atomic::AtomicUsize;","","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(1),","    });","","    let ptr = Box::into_raw(shared);","    unsafe {","        release_shared(ptr);","    }","    let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(1) });","    let ptr = Box::into_raw(shared);","    unsafe { release_shared(ptr) };","    assert!(ptr.is_null() == false);","}"],[1433,1434,1435,1437,1438,1439,1440,1441,1442,1443,1444,1445,1446,1447,1448,1449,1450,1451,1452,1453,1454,1455,1456,1457,1458,1459,1460,1461,1462,1463]],[["{","    use core::sync::atomic::AtomicUsize;","","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(1),","    });","","    let ptr = Box::into_raw(shared);","    unsafe {","        release_shared(ptr);","    }","    let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(1) });","    let ptr = Box::into_raw(shared);","    unsafe { release_shared(ptr) };","    assert!(ptr.is_null() == false);","}"],[1433,1434,1435,1437,1438,1439,1440,1441,1442,1443,1444,1445,1446,1447,1448,1449,1450,1451,1452,1453,1454,1455,1456,1457,1458,1459,1460,1461,1462,1463]],[["{","    use core::sync::atomic::AtomicUsize;","","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(2),","    });","","    let ptr = Box::into_raw(shared);","    ","    unsafe {","        // First release should not drop the box","        release_shared(ptr);","        // Second release should drop the box","        release_shared(ptr);","    }","    let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(2) });","    let ptr = Box::into_raw(shared);","   unsafe { assert_eq!((*ptr).ref_count.load(Ordering::Relaxed), 2); }  ","}"],[1433,1434,1435,1436,1437,1438,1439,1440,1441,1442,1443,1444,1445,1446,1447,1448,1449,1450,1451,1452,1453,1454,1455,1456,1457,1458,1459,1460,1461,1462,1463]],[["{","    use core::sync::atomic::AtomicUsize;","","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(2),","    });","","    let ptr = Box::into_raw(shared);","    ","    unsafe {","        // First release should not drop the box","        release_shared(ptr);","        // Second release should drop the box","        release_shared(ptr);","    }","    let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(2) });","    let ptr = Box::into_raw(shared);","    unsafe {","    release_shared(ptr);","    }","    unsafe { assert_eq!((*ptr).ref_count.load(Ordering::Relaxed), 1); }  ","}"],[1433,1434,1435,1436,1437,1438,1439,1440,1441,1442,1443,1444,1445,1446,1447,1448,1449,1450,1451,1452,1453,1454,1455,1456,1457,1458,1459,1460,1461,1462,1463]],[["{","    use core::sync::atomic::AtomicUsize;","","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(2),","    });","","    let ptr = Box::into_raw(shared);","    ","    unsafe {","        // First release should not drop the box","        release_shared(ptr);","        // Second release should drop the box","        release_shared(ptr);","    }","    let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(2) });","    let ptr = Box::into_raw(shared);","    unsafe {","    release_shared(ptr);","    }","    unsafe {","    release_shared(ptr);","    }","    assert!(ptr.is_null());","}"],[1433,1434,1435,1436,1437,1438,1439,1440,1441,1442,1443,1444,1445,1446,1447,1448,1449,1450,1451,1452,1453,1454,1455,1456,1457,1458,1459,1460,1461,1462,1463]],[["{","    use core::sync::atomic::AtomicUsize;","","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(1),","    });","","   let ptr = Box::into_raw(shared);","   unsafe {","       release_shared(ptr);","   }","   let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(1) });","   let ptr = Box::into_raw(shared);","   unsafe { assert_eq!((*ptr).ref_count.load(Ordering::SeqCst), 1); }","}"],[1433,1434,1435,1437,1438,1439,1440,1441,1442,1443,1444,1445,1446,1447,1448,1449,1450,1451,1452,1453,1454,1455,1456,1457,1458,1459,1460,1461,1462,1463]],[["{","    use core::sync::atomic::AtomicUsize;","","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(1),","    });","","    let ptr = Box::into_raw(shared);","    unsafe {","        release_shared(ptr);","    }","    let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(1) });","    let ptr = Box::into_raw(shared);","    assert_eq!(ptr.is_null(), false);","}"],[1433,1434,1435,1437,1438,1439,1440,1441,1442,1443,1444,1445,1446,1447,1448,1449,1450,1451,1452,1453,1454,1455,1456,1457,1458,1459,1460,1461,1462,1463]],[["{","    use core::sync::atomic::AtomicUsize;","","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(1),","    });","","    let ptr = Box::into_raw(shared);","    unsafe {","        release_shared(ptr);","    }","    let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(1) });","    let ptr = Box::into_raw(shared);","    unsafe { release_shared(ptr); }","   assert_eq!(unsafe { (*ptr).ref_count.load(Ordering::SeqCst) }, 0);","}"],[1433,1434,1435,1437,1438,1439,1440,1441,1442,1443,1444,1445,1446,1447,1448,1449,1450,1451,1452,1453,1454,1455,1456,1457,1458,1459,1460,1461,1462,1463]],[["{","    use core::sync::atomic::AtomicUsize;","","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(1),","    });","","    let ptr = Box::into_raw(shared);","    unsafe {","        release_shared(ptr);","    }","    let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(1) });","    let ptr = Box::into_raw(shared);","    unsafe { release_shared(ptr); }","    assert_eq!(ptr.is_null(), true);","}"],[1433,1434,1435,1437,1438,1439,1440,1441,1442,1443,1444,1445,1446,1447,1448,1449,1450,1451,1452,1453,1454,1455,1456,1457,1458,1459,1460,1461,1462,1463]],[["{","    use core::sync::atomic::AtomicUsize;","","    let large_vec = vec![0u8; 1024]; // Large Vec","    let shared = Box::new(Shared {","        vec: large_vec,","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(1),","    });","","    let ptr = Box::into_raw(shared);","    unsafe {","        release_shared(ptr);","    }","    let large_vec = vec![0u8; 1024];","    let shared = Box::new(Shared {","    vec: large_vec,","    original_capacity_repr: 0,","    ref_count: AtomicUsize::new(1),","    });","    let ptr = Box::into_raw(shared);","    unsafe {","    release_shared(ptr);","    }","    assert_eq!(ptr.is_null(), true);","}"],[1433,1434,1435,1437,1438,1439,1440,1441,1442,1443,1444,1445,1446,1447,1448,1449,1450,1451,1452,1453,1454,1455,1456,1457,1458,1459,1460,1461,1462,1463]],[["   {","       use core::sync::atomic::AtomicUsize;","","       let shared = Box::new(Shared {","           vec: Vec::new(),","           original_capacity_repr: 0,","           ref_count: AtomicUsize::new(5),","       });","","       let ptr = Box::into_raw(shared);","   ","       unsafe {","           // Only the first call should not drop the box","           release_shared(ptr);","           release_shared(ptr);","           release_shared(ptr);","           release_shared(ptr);","           // Last call should drop the box","           release_shared(ptr);","       }","       let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(5) });","       let ptr = Box::into_raw(shared);","       unsafe {","           release_shared(ptr);","           release_shared(ptr);","           release_shared(ptr);","           release_shared(ptr);","       }","}"],[1433,1434,1435,1436,1437,1438,1439,1440,1441,1442,1443,1444,1445,1446,1447,1448,1449,1450,1451,1452,1453,1454,1455,1456,1457,1458,1459,1460,1461,1462,1463]]],"codes_branches":[{"start_line":1435,"start_column":8,"end_line":1435,"end_column":61,"positive":true,"negative":true}],"codes_branches_covered":[[["{","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(2),","    });","    let ptr = Box::into_raw(shared);","    unsafe {","        release_shared(ptr);","   }  ","   let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(2) });  ","   let ptr = Box::into_raw(shared);  ","   unsafe { assert_eq!((*ptr).ref_count.load(Ordering::Relaxed), 1); }  ","}"],[{"start_line":1435,"start_column":8,"end_line":1435,"end_column":61,"positive":true,"negative":false}]],[["{","   let shared = Box::new(Shared {","       vec: Vec::new(),","       original_capacity_repr: 0,","       ref_count: AtomicUsize::new(2),","   });","   let ptr = Box::into_raw(shared);","   unsafe {","       release_shared(ptr);","   }","   let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(2) });","   let ptr = Box::into_raw(shared);","   unsafe { assert_eq!((*ptr).original_capacity_repr, 0); }","}"],[{"start_line":1435,"start_column":8,"end_line":1435,"end_column":61,"positive":true,"negative":false}]],[["{","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(2),","    });","    let ptr = Box::into_raw(shared);","    unsafe {","        release_shared(ptr);","    }","    let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(2) });","    let ptr = Box::into_raw(shared);","    assert!(ptr.is_null() == false);","}"],[{"start_line":1435,"start_column":8,"end_line":1435,"end_column":61,"positive":true,"negative":false}]],[["{","   let shared = Box::new(Shared {","       vec: Vec::new(),","       original_capacity_repr: 0,","       ref_count: AtomicUsize::new(usize::MAX),","   });","   let ptr = Box::into_raw(shared);","   unsafe {","       release_shared(ptr);","   }","   let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(usize::MAX) });","   let ptr = Box::into_raw(shared);","   unsafe { assert_eq!((*ptr).ref_count.load(Ordering::Acquire), usize::MAX); }","}"],[{"start_line":1435,"start_column":8,"end_line":1435,"end_column":61,"positive":true,"negative":false}]],[["{","   let shared = Box::new(Shared {  ","       vec: Vec::new(),  ","       original_capacity_repr: 0,  ","       ref_count: AtomicUsize::new(usize::MAX),  ","   });  ","   let ptr = Box::into_raw(shared);  ","   unsafe {  ","       release_shared(ptr);  ","   }  ","   let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(usize::MAX) });  ","   let ptr = Box::into_raw(shared);  ","   unsafe { assert_eq!((*ptr).ref_count.fetch_sub(1, Ordering::Release), usize::MAX); }  ","}"],[{"start_line":1435,"start_column":8,"end_line":1435,"end_column":61,"positive":true,"negative":false}]],[["{","   let shared = Box::new(Shared {  ","       vec: Vec::new(),  ","       original_capacity_repr: 0,  ","       ref_count: AtomicUsize::new(usize::MAX),  ","   });  ","   let ptr = Box::into_raw(shared);  ","   unsafe {  ","       release_shared(ptr);  ","   }  ","   let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(usize::MAX) });  ","   let ptr = Box::into_raw(shared);  ","   unsafe { assert_eq!((*ptr).ref_count.load(Ordering::Acquire), usize::MAX - 1); }  ","}"],[{"start_line":1435,"start_column":8,"end_line":1435,"end_column":61,"positive":true,"negative":false}]],[["{","   let shared = Box::new(Shared {","       vec: Vec::new(),","       original_capacity_repr: 0,","       ref_count: AtomicUsize::new(3),","   });","   let ptr = Box::into_raw(shared);","   unsafe {","       release_shared(ptr);","   }","   let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(3) });","   let ptr = Box::into_raw(shared);","   unsafe { release_shared(ptr); }","   unsafe { assert_eq!((*ptr).ref_count.load(Ordering::Relaxed), 2); }","}"],[{"start_line":1435,"start_column":8,"end_line":1435,"end_column":61,"positive":true,"negative":false}]],[["{","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(4),","    });","    let ptr = Box::into_raw(shared);","    unsafe {","        release_shared(ptr);","    }","    let shared = Box::new(Shared {","    vec: Vec::new(),","    original_capacity_repr: 0,","    ref_count: AtomicUsize::new(4),","    });","    let ptr = Box::into_raw(shared);","   unsafe { assert_eq!((*ptr).ref_count.load(Ordering::Acquire), 3); }","}"],[{"start_line":1435,"start_column":8,"end_line":1435,"end_column":61,"positive":true,"negative":false}]],[["{","   let shared = Box::new(Shared {","       vec: Vec::new(),","       original_capacity_repr: 0,","       ref_count: AtomicUsize::new(5),","   });","   let ptr = Box::into_raw(shared);","   unsafe {","       release_shared(ptr);","   }","   let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(5) });","   let ptr = Box::into_raw(shared);","   unsafe { release_shared(ptr); }","   unsafe { assert_eq!((*ptr).ref_count.load(Ordering::Relaxed), 4); }","}"],[{"start_line":1435,"start_column":8,"end_line":1435,"end_column":61,"positive":true,"negative":false}]],[["{","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(5),","    });","    let ptr = Box::into_raw(shared);","    unsafe {","        release_shared(ptr);","    }","    let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(5) });","    let ptr = Box::into_raw(shared);","    unsafe { release_shared(ptr); }","    assert!(ptr.is_null() == false);","}"],[{"start_line":1435,"start_column":8,"end_line":1435,"end_column":61,"positive":true,"negative":false}]],[["{","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(5),","    });","    let ptr = Box::into_raw(shared);","    unsafe {","        release_shared(ptr);","    }","    let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(5) });","    let ptr = Box::into_raw(shared);","    unsafe { release_shared(ptr); }","   let shared = unsafe { &*ptr };  ","   assert_eq!(shared.original_capacity_repr, 0);  ","}"],[{"start_line":1435,"start_column":8,"end_line":1435,"end_column":61,"positive":true,"negative":false}]],[["{","   let shared = Box::new(Shared {","       vec: Vec::new(),","       original_capacity_repr: 0,","       ref_count: AtomicUsize::new(5),","   });","   let ptr = Box::into_raw(shared);","   unsafe {","       release_shared(ptr);","   }","   let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(5) });","   let ptr = Box::into_raw(shared);","   unsafe { release_shared(ptr); }","   unsafe { assert_eq!((*ptr).vec.len(), 0); }","}"],[{"start_line":1435,"start_column":8,"end_line":1435,"end_column":61,"positive":true,"negative":false}]],[["{","    use core::sync::atomic::AtomicUsize;","","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(1),","    });","","   let ptr = Box::into_raw(shared);","   unsafe {","       release_shared(ptr);","   }","   let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(1) });","   let ptr = Box::into_raw(shared);","   unsafe { release_shared(ptr) };","   let ref_count = unsafe { (*ptr).ref_count.load(Ordering::Relaxed) };","}"],[{"start_line":1435,"start_column":8,"end_line":1435,"end_column":61,"positive":false,"negative":true}]],[["{","    use core::sync::atomic::AtomicUsize;","","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(1),","    });","","    let ptr = Box::into_raw(shared);","    unsafe {","        release_shared(ptr);","    }","    let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(1) });","    let ptr = Box::into_raw(shared);","    unsafe { release_shared(ptr) };","    assert!(ptr.is_null() == false);","}"],[{"start_line":1435,"start_column":8,"end_line":1435,"end_column":61,"positive":false,"negative":true}]],[["{","    use core::sync::atomic::AtomicUsize;","","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(1),","    });","","    let ptr = Box::into_raw(shared);","    unsafe {","        release_shared(ptr);","    }","    let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(1) });","    let ptr = Box::into_raw(shared);","    unsafe { release_shared(ptr) };","    assert!(ptr.is_null() == false);","}"],[{"start_line":1435,"start_column":8,"end_line":1435,"end_column":61,"positive":false,"negative":true}]],[["{","    use core::sync::atomic::AtomicUsize;","","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(2),","    });","","    let ptr = Box::into_raw(shared);","    ","    unsafe {","        // First release should not drop the box","        release_shared(ptr);","        // Second release should drop the box","        release_shared(ptr);","    }","    let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(2) });","    let ptr = Box::into_raw(shared);","   unsafe { assert_eq!((*ptr).ref_count.load(Ordering::Relaxed), 2); }  ","}"],[{"start_line":1435,"start_column":8,"end_line":1435,"end_column":61,"positive":true,"negative":true}]],[["{","    use core::sync::atomic::AtomicUsize;","","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(2),","    });","","    let ptr = Box::into_raw(shared);","    ","    unsafe {","        // First release should not drop the box","        release_shared(ptr);","        // Second release should drop the box","        release_shared(ptr);","    }","    let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(2) });","    let ptr = Box::into_raw(shared);","    unsafe {","    release_shared(ptr);","    }","    unsafe { assert_eq!((*ptr).ref_count.load(Ordering::Relaxed), 1); }  ","}"],[{"start_line":1435,"start_column":8,"end_line":1435,"end_column":61,"positive":true,"negative":true}]],[["{","    use core::sync::atomic::AtomicUsize;","","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(2),","    });","","    let ptr = Box::into_raw(shared);","    ","    unsafe {","        // First release should not drop the box","        release_shared(ptr);","        // Second release should drop the box","        release_shared(ptr);","    }","    let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(2) });","    let ptr = Box::into_raw(shared);","    unsafe {","    release_shared(ptr);","    }","    unsafe {","    release_shared(ptr);","    }","    assert!(ptr.is_null());","}"],[{"start_line":1435,"start_column":8,"end_line":1435,"end_column":61,"positive":true,"negative":true}]],[["{","    use core::sync::atomic::AtomicUsize;","","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(1),","    });","","   let ptr = Box::into_raw(shared);","   unsafe {","       release_shared(ptr);","   }","   let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(1) });","   let ptr = Box::into_raw(shared);","   unsafe { assert_eq!((*ptr).ref_count.load(Ordering::SeqCst), 1); }","}"],[{"start_line":1435,"start_column":8,"end_line":1435,"end_column":61,"positive":false,"negative":true}]],[["{","    use core::sync::atomic::AtomicUsize;","","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(1),","    });","","    let ptr = Box::into_raw(shared);","    unsafe {","        release_shared(ptr);","    }","    let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(1) });","    let ptr = Box::into_raw(shared);","    assert_eq!(ptr.is_null(), false);","}"],[{"start_line":1435,"start_column":8,"end_line":1435,"end_column":61,"positive":false,"negative":true}]],[["{","    use core::sync::atomic::AtomicUsize;","","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(1),","    });","","    let ptr = Box::into_raw(shared);","    unsafe {","        release_shared(ptr);","    }","    let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(1) });","    let ptr = Box::into_raw(shared);","    unsafe { release_shared(ptr); }","   assert_eq!(unsafe { (*ptr).ref_count.load(Ordering::SeqCst) }, 0);","}"],[{"start_line":1435,"start_column":8,"end_line":1435,"end_column":61,"positive":false,"negative":true}]],[["{","    use core::sync::atomic::AtomicUsize;","","    let shared = Box::new(Shared {","        vec: Vec::new(),","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(1),","    });","","    let ptr = Box::into_raw(shared);","    unsafe {","        release_shared(ptr);","    }","    let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(1) });","    let ptr = Box::into_raw(shared);","    unsafe { release_shared(ptr); }","    assert_eq!(ptr.is_null(), true);","}"],[{"start_line":1435,"start_column":8,"end_line":1435,"end_column":61,"positive":false,"negative":true}]],[["{","    use core::sync::atomic::AtomicUsize;","","    let large_vec = vec![0u8; 1024]; // Large Vec","    let shared = Box::new(Shared {","        vec: large_vec,","        original_capacity_repr: 0,","        ref_count: AtomicUsize::new(1),","    });","","    let ptr = Box::into_raw(shared);","    unsafe {","        release_shared(ptr);","    }","    let large_vec = vec![0u8; 1024];","    let shared = Box::new(Shared {","    vec: large_vec,","    original_capacity_repr: 0,","    ref_count: AtomicUsize::new(1),","    });","    let ptr = Box::into_raw(shared);","    unsafe {","    release_shared(ptr);","    }","    assert_eq!(ptr.is_null(), true);","}"],[{"start_line":1435,"start_column":8,"end_line":1435,"end_column":61,"positive":false,"negative":true}]],[["   {","       use core::sync::atomic::AtomicUsize;","","       let shared = Box::new(Shared {","           vec: Vec::new(),","           original_capacity_repr: 0,","           ref_count: AtomicUsize::new(5),","       });","","       let ptr = Box::into_raw(shared);","   ","       unsafe {","           // Only the first call should not drop the box","           release_shared(ptr);","           release_shared(ptr);","           release_shared(ptr);","           release_shared(ptr);","           // Last call should drop the box","           release_shared(ptr);","       }","       let shared = Box::new(Shared { vec: Vec::new(), original_capacity_repr: 0, ref_count: AtomicUsize::new(5) });","       let ptr = Box::into_raw(shared);","       unsafe {","           release_shared(ptr);","           release_shared(ptr);","           release_shared(ptr);","           release_shared(ptr);","       }","}"],[{"start_line":1435,"start_column":8,"end_line":1435,"end_column":61,"positive":true,"negative":true}]]]}