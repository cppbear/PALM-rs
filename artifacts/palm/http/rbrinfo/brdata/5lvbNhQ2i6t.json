{
  "name": "http::header::name::<header::name::HeaderName as std::convert::From<header::name::HdrName<'a>>>::from",
  "name_with_impl": "http::header::name::{impl#29}::from",
  "mod_info": {
    "name": "header::name",
    "loc": "src/header/mod.rs:74:1:74:10"
  },
  "visible": true,
  "loc": "src/header/name.rs:1556:5:1591:6",
  "doc": "",
  "code": [
    "fn from(src: HdrName<'a>) -> HeaderName {",
    "    match src.inner {",
    "        Repr::Standard(s) => HeaderName {",
    "            inner: Repr::Standard(s),",
    "        },",
    "        Repr::Custom(maybe_lower) => {",
    "            if maybe_lower.lower {",
    "                let buf = Bytes::copy_from_slice(maybe_lower.buf);",
    "                // Safety: the invariant on MaybeLower ensures buf is valid UTF-8.",
    "                let byte_str = unsafe { ByteStr::from_utf8_unchecked(buf) };",
    "",
    "                HeaderName {",
    "                    inner: Repr::Custom(Custom(byte_str)),",
    "                }",
    "            } else {",
    "                use bytes::BufMut;",
    "                let mut dst = BytesMut::with_capacity(maybe_lower.buf.len());",
    "",
    "                for b in maybe_lower.buf.iter() {",
    "                    // HEADER_CHARS maps each byte to a valid single-byte UTF-8",
    "                    // codepoint.",
    "                    dst.put_u8(HEADER_CHARS[*b as usize]);",
    "                }",
    "",
    "                // Safety: the loop above maps each byte of maybe_lower.buf to a",
    "                // valid single-byte UTF-8 codepoint before copying it into dst.",
    "                // dst (and hence dst.freeze()) is thus valid UTF-8.",
    "                let buf = unsafe { ByteStr::from_utf8_unchecked(dst.freeze()) };",
    "",
    "                HeaderName {",
    "                    inner: Repr::Custom(Custom(buf)),",
    "                }",
    "            }",
    "        }",
    "    }",
    "}"
  ],
  "size": {
    "chain": 4,
    "contra": 1,
    "min_set": 4
  },
  "cond_chains": [
    {
      "id": 1,
      "conds": [
        {
          "cond": "src.inner matches Repr::Custom(maybe_lower)",
          "norm": null,
          "value": "true",
          "line": 1557,
          "bound": null,
          "may_panic": false
        },
        {
          "cond": "maybe_lower.lower",
          "norm": null,
          "value": "true",
          "line": 1562,
          "bound": null,
          "may_panic": false
        }
      ],
      "ret": "HeaderName {\n                        inner: Repr::Custom(Custom(byte_str)),\n                    }",
      "path": [
        0,
        3,
        6,
        7,
        8,
        9,
        10,
        11,
        12,
        13,
        35,
        36
      ],
      "may_contra": false,
      "min_set": true
    },
    {
      "id": 2,
      "conds": [
        {
          "cond": "src.inner matches Repr::Custom(maybe_lower)",
          "norm": null,
          "value": "true",
          "line": 1557,
          "bound": null,
          "may_panic": false
        },
        {
          "cond": "maybe_lower.lower",
          "norm": null,
          "value": "false",
          "line": 1562,
          "bound": null,
          "may_panic": false
        },
        {
          "cond": "b in maybe_lower.buf.iter()",
          "norm": null,
          "value": "true",
          "line": 1574,
          "bound": null,
          "may_panic": false
        },
        {
          "cond": "b in maybe_lower.buf.iter()",
          "norm": null,
          "value": "false",
          "line": 1574,
          "bound": null,
          "may_panic": false
        }
      ],
      "ret": "HeaderName {\n                        inner: Repr::Custom(Custom(buf)),\n                    }",
      "path": [
        0,
        3,
        14,
        15,
        16,
        17,
        18,
        19,
        20,
        21,
        24,
        26,
        27,
        19,
        20,
        21,
        23,
        25,
        28,
        29,
        30,
        31,
        32,
        33,
        34,
        35,
        36
      ],
      "may_contra": true,
      "min_set": true
    },
    {
      "id": 3,
      "conds": [
        {
          "cond": "src.inner matches Repr::Custom(maybe_lower)",
          "norm": null,
          "value": "true",
          "line": 1557,
          "bound": null,
          "may_panic": false
        },
        {
          "cond": "maybe_lower.lower",
          "norm": null,
          "value": "false",
          "line": 1562,
          "bound": null,
          "may_panic": false
        },
        {
          "cond": "b in maybe_lower.buf.iter()",
          "norm": null,
          "value": "false",
          "line": 1574,
          "bound": null,
          "may_panic": false
        }
      ],
      "ret": "HeaderName {\n                        inner: Repr::Custom(Custom(buf)),\n                    }",
      "path": [
        0,
        3,
        14,
        15,
        16,
        17,
        18,
        19,
        20,
        21,
        23,
        25,
        28,
        29,
        30,
        31,
        32,
        33,
        34,
        35,
        36
      ],
      "may_contra": false,
      "min_set": true
    },
    {
      "id": 4,
      "conds": [
        {
          "cond": "src.inner matches Repr::Standard(s)",
          "norm": null,
          "value": "true",
          "line": 1557,
          "bound": null,
          "may_panic": false
        },
        {
          "cond": "src.inner matches Repr::Standard(s)",
          "norm": null,
          "value": "true",
          "line": 1557,
          "bound": null,
          "may_panic": false
        }
      ],
      "ret": "HeaderName {\n                inner: Repr::Standard(s),\n            }",
      "path": [
        0,
        2,
        4,
        5,
        36
      ],
      "may_contra": false,
      "min_set": true
    }
  ]
}