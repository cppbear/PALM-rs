{
    "function_name": "once_cell::unsync::unsync::OnceCell<T>::get_or_try_init",
    "tests": 12,
    "tests_lines": [
        12,
        14,
        13,
        13,
        15,
        16,
        4,
        6,
        16,
        41,
        44,
        41
    ],
    "oracles": 12,
    "oracles_compiled": 8,
    "oracles_compiled_rate": 66.66666666666666,
    "tests_compiled": 8,
    "tests_compiled_rate": 66.66666666666666,
    "oracles_run": 8,
    "oracles_passed": 7,
    "oracles_passed_rate": 87.5,
    "tests_run": 8,
    "tests_passed": 7,
    "tests_passed_rate": 87.5,
    "lines": 11,
    "lines_covered": 11,
    "lines_coveraged_rate": 100.0,
    "branches": 2,
    "branches_covered": 2,
    "branches_coverage_rate": 100.0,
    "codes_lines": [
        622,
        623,
        624,
        625,
        626,
        627,
        628,
        629,
        634,
        635,
        636
    ],
    "codes_lines_covered": [
        [
            [
                "{",
                "    struct TestCell {",
                "        cell: OnceCell<i32>,",
                "    }",
                "",
                "    let mut test_cell = TestCell {",
                "        cell: OnceCell::with_value(42),",
                "    };",
                "    ",
                "    let result = test_cell.cell.get_or_try_init(|| Err(()));",
                "    assert_eq!(result, Ok(&42));",
                "}"
            ],
            [
                622,
                623,
                624,
                625,
                626,
                627,
                636
            ]
        ],
        [
            [
                "{",
                "    struct TestCell {",
                "        cell: OnceCell<i32>,",
                "    }",
                "",
                "    let mut test_cell = TestCell {",
                "        cell: OnceCell::new(),",
                "    };",
                "",
                "    let _ = test_cell.cell.get_or_try_init(|| {",
                "        test_cell.cell.set(10).unwrap(); // Attempt to reinitialize",
                "        Err(())",
                "    });",
                "}"
            ],
            [
                622,
                623,
                624,
                625,
                626,
                628,
                629,
                636
            ]
        ],
        [
            [
                "{",
                "    struct TestCell {",
                "        cell: OnceCell<i32>,",
                "    }",
                "",
                "    let test_cell = TestCell {",
                "        cell: OnceCell::new(),",
                "    };",
                "",
                "    let result = test_cell.cell.get_or_try_init(|| Err(()));",
                "    assert_eq!(result, Err(()));",
                "    assert!(test_cell.cell.get().is_none());",
                "}"
            ],
            [
                622,
                623,
                624,
                625,
                626,
                628,
                629,
                636
            ]
        ],
        [
            [
                "{",
                "    struct TestCell {",
                "        cell: OnceCell<i32>,",
                "    }",
                "",
                "    let mut test_cell = TestCell {",
                "        cell: OnceCell::new(),",
                "    };",
                "",
                "   let result: Result<&i32, &str> = test_cell.cell.get_or_try_init(|| Ok(50));",
                "   assert_eq!(result, Ok(&50));",
                "   assert_eq!(test_cell.cell.get(), Some(&50));",
                "}"
            ],
            [
                622,
                623,
                624,
                625,
                626,
                628,
                629,
                634,
                635,
                636
            ]
        ],
        [
            [
                "{",
                "   let cell: OnceCell<()> = OnceCell::new();  ",
                "   let value = cell.get_or_try_init(|| Err(()));  ",
                "   assert_eq!(value, Err(()));  ",
                "   assert!(cell.get().is_none());  ",
                "}"
            ],
            [
                622,
                623,
                624,
                625,
                626,
                628,
                629,
                636
            ]
        ],
        [
            [
                "{",
                "    struct TestCell {",
                "        inner: UnsafeCell<Option<i32>>,",
                "    }",
                "",
                "    impl TestCell {",
                "        const fn new() -> Self {",
                "            Self {",
                "                inner: UnsafeCell::new(Some(42)),",
                "            }",
                "        }",
                "",
                "        fn get(&self) -> Option<&i32> {",
                "            unsafe { &*self.inner.get() }.as_ref()",
                "        }",
                "",
                "        fn set(&self, value: i32) -> Result<(), i32> {",
                "            if unsafe { &*self.inner.get() }.is_none() {",
                "                unsafe { *self.inner.get() = Some(value) };",
                "                Ok(())",
                "            } else {",
                "                Err(value)",
                "            }",
                "        }",
                "",
                "        fn get_or_try_init<F, E>(&self, f: F) -> Result<&i32, E>",
                "        where",
                "            F: FnOnce() -> Result<i32, E>,",
                "        {",
                "            if let Some(val) = self.get() {",
                "                return Ok(val);",
                "            }",
                "            let val = f()?;",
                "            assert!(self.set(val).is_ok(), \"reentrant init\");",
                "            Ok(unsafe { self.get().unwrap() })",
                "        }",
                "    }",
                "",
                "    let cell = TestCell::new();",
                "   assert_eq!(cell.get_or_try_init(|| Ok::<i32, i32>(99)), Ok(&42));  ",
                "}"
            ],
            []
        ],
        [
            [
                "{",
                "    struct TestCell {",
                "        inner: UnsafeCell<Option<i32>>,",
                "    }",
                "",
                "    impl TestCell {",
                "        const fn new() -> Self {",
                "            Self {",
                "                inner: UnsafeCell::new(None),",
                "            }",
                "        }",
                "",
                "        fn get(&self) -> Option<&i32> {",
                "            unsafe { &*self.inner.get() }.as_ref()",
                "        }",
                "",
                "        fn set(&self, value: i32) -> Result<(), i32> {",
                "            if unsafe { &*self.inner.get() }.is_none() {",
                "                unsafe { *self.inner.get() = Some(value) };",
                "                Ok(())",
                "            } else {",
                "                Err(value)",
                "            }",
                "        }",
                "",
                "        fn get_or_try_init<F, E>(&self, f: F) -> Result<&i32, E>",
                "        where",
                "            F: FnOnce() -> Result<i32, E>,",
                "        {",
                "            if let Some(val) = self.get() {",
                "                return Ok(val);",
                "            }",
                "            let val = f()?;",
                "            assert!(self.set(val).is_ok(), \"reentrant init\");",
                "            Ok(unsafe { self.get().unwrap() })",
                "        }",
                "    }",
                "",
                "   let cell = TestCell::new();  ",
                "   let _ = cell.get_or_try_init::<_, i32>(|| {  ",
                "       cell.get_or_try_init::<_, i32>(|| Ok(100)); // Reentrant call  ",
                "       Ok(42)  ",
                "   });  ",
                "}"
            ],
            []
        ],
        [
            [
                "{",
                "    struct TestCell {",
                "        inner: UnsafeCell<Option<i32>>,",
                "    }",
                "",
                "    impl TestCell {",
                "        const fn new() -> Self {",
                "            Self {",
                "                inner: UnsafeCell::new(None),",
                "            }",
                "        }",
                "",
                "        fn get(&self) -> Option<&i32> {",
                "            unsafe { &*self.inner.get() }.as_ref()",
                "        }",
                "",
                "        fn set(&self, value: i32) -> Result<(), i32> {",
                "            if unsafe { &*self.inner.get() }.is_none() {",
                "                unsafe { *self.inner.get() = Some(value) };",
                "                Ok(())",
                "            } else {",
                "                Err(value)",
                "            }",
                "        }",
                "",
                "        fn get_or_try_init<F, E>(&self, f: F) -> Result<&i32, E>",
                "        where",
                "            F: FnOnce() -> Result<i32, E>,",
                "        {",
                "            if let Some(val) = self.get() {",
                "                return Ok(val);",
                "            }",
                "            let val = f()?;",
                "            assert!(self.set(val).is_ok(), \"reentrant init\");",
                "            Ok(unsafe { self.get().unwrap() })",
                "        }",
                "    }",
                "",
                "    let cell = TestCell::new();",
                "    assert_eq!(cell.get_or_try_init(|| Err(())), Err(()));",
                "}"
            ],
            []
        ]
    ],
    "codes_branches": [
        {
            "start_line": 626,
            "start_column": 20,
            "end_line": 626,
            "end_column": 29,
            "positive": true,
            "negative": true
        }
    ],
    "codes_branches_covered": [
        [
            [
                "{",
                "    struct TestCell {",
                "        cell: OnceCell<i32>,",
                "    }",
                "",
                "    let mut test_cell = TestCell {",
                "        cell: OnceCell::with_value(42),",
                "    };",
                "    ",
                "    let result = test_cell.cell.get_or_try_init(|| Err(()));",
                "    assert_eq!(result, Ok(&42));",
                "}"
            ],
            [
                {
                    "start_line": 626,
                    "start_column": 20,
                    "end_line": 626,
                    "end_column": 29,
                    "positive": true,
                    "negative": false
                }
            ]
        ],
        [
            [
                "{",
                "    struct TestCell {",
                "        cell: OnceCell<i32>,",
                "    }",
                "",
                "    let mut test_cell = TestCell {",
                "        cell: OnceCell::new(),",
                "    };",
                "",
                "    let _ = test_cell.cell.get_or_try_init(|| {",
                "        test_cell.cell.set(10).unwrap(); // Attempt to reinitialize",
                "        Err(())",
                "    });",
                "}"
            ],
            [
                {
                    "start_line": 626,
                    "start_column": 20,
                    "end_line": 626,
                    "end_column": 29,
                    "positive": false,
                    "negative": true
                }
            ]
        ],
        [
            [
                "{",
                "    struct TestCell {",
                "        cell: OnceCell<i32>,",
                "    }",
                "",
                "    let test_cell = TestCell {",
                "        cell: OnceCell::new(),",
                "    };",
                "",
                "    let result = test_cell.cell.get_or_try_init(|| Err(()));",
                "    assert_eq!(result, Err(()));",
                "    assert!(test_cell.cell.get().is_none());",
                "}"
            ],
            [
                {
                    "start_line": 626,
                    "start_column": 20,
                    "end_line": 626,
                    "end_column": 29,
                    "positive": false,
                    "negative": true
                }
            ]
        ],
        [
            [
                "{",
                "    struct TestCell {",
                "        cell: OnceCell<i32>,",
                "    }",
                "",
                "    let mut test_cell = TestCell {",
                "        cell: OnceCell::new(),",
                "    };",
                "",
                "   let result: Result<&i32, &str> = test_cell.cell.get_or_try_init(|| Ok(50));",
                "   assert_eq!(result, Ok(&50));",
                "   assert_eq!(test_cell.cell.get(), Some(&50));",
                "}"
            ],
            [
                {
                    "start_line": 626,
                    "start_column": 20,
                    "end_line": 626,
                    "end_column": 29,
                    "positive": false,
                    "negative": true
                }
            ]
        ],
        [
            [
                "{",
                "   let cell: OnceCell<()> = OnceCell::new();  ",
                "   let value = cell.get_or_try_init(|| Err(()));  ",
                "   assert_eq!(value, Err(()));  ",
                "   assert!(cell.get().is_none());  ",
                "}"
            ],
            [
                {
                    "start_line": 626,
                    "start_column": 20,
                    "end_line": 626,
                    "end_column": 29,
                    "positive": false,
                    "negative": true
                }
            ]
        ],
        [
            [
                "{",
                "    struct TestCell {",
                "        inner: UnsafeCell<Option<i32>>,",
                "    }",
                "",
                "    impl TestCell {",
                "        const fn new() -> Self {",
                "            Self {",
                "                inner: UnsafeCell::new(Some(42)),",
                "            }",
                "        }",
                "",
                "        fn get(&self) -> Option<&i32> {",
                "            unsafe { &*self.inner.get() }.as_ref()",
                "        }",
                "",
                "        fn set(&self, value: i32) -> Result<(), i32> {",
                "            if unsafe { &*self.inner.get() }.is_none() {",
                "                unsafe { *self.inner.get() = Some(value) };",
                "                Ok(())",
                "            } else {",
                "                Err(value)",
                "            }",
                "        }",
                "",
                "        fn get_or_try_init<F, E>(&self, f: F) -> Result<&i32, E>",
                "        where",
                "            F: FnOnce() -> Result<i32, E>,",
                "        {",
                "            if let Some(val) = self.get() {",
                "                return Ok(val);",
                "            }",
                "            let val = f()?;",
                "            assert!(self.set(val).is_ok(), \"reentrant init\");",
                "            Ok(unsafe { self.get().unwrap() })",
                "        }",
                "    }",
                "",
                "    let cell = TestCell::new();",
                "   assert_eq!(cell.get_or_try_init(|| Ok::<i32, i32>(99)), Ok(&42));  ",
                "}"
            ],
            [
                {
                    "start_line": 626,
                    "start_column": 20,
                    "end_line": 626,
                    "end_column": 29,
                    "positive": false,
                    "negative": false
                }
            ]
        ],
        [
            [
                "{",
                "    struct TestCell {",
                "        inner: UnsafeCell<Option<i32>>,",
                "    }",
                "",
                "    impl TestCell {",
                "        const fn new() -> Self {",
                "            Self {",
                "                inner: UnsafeCell::new(None),",
                "            }",
                "        }",
                "",
                "        fn get(&self) -> Option<&i32> {",
                "            unsafe { &*self.inner.get() }.as_ref()",
                "        }",
                "",
                "        fn set(&self, value: i32) -> Result<(), i32> {",
                "            if unsafe { &*self.inner.get() }.is_none() {",
                "                unsafe { *self.inner.get() = Some(value) };",
                "                Ok(())",
                "            } else {",
                "                Err(value)",
                "            }",
                "        }",
                "",
                "        fn get_or_try_init<F, E>(&self, f: F) -> Result<&i32, E>",
                "        where",
                "            F: FnOnce() -> Result<i32, E>,",
                "        {",
                "            if let Some(val) = self.get() {",
                "                return Ok(val);",
                "            }",
                "            let val = f()?;",
                "            assert!(self.set(val).is_ok(), \"reentrant init\");",
                "            Ok(unsafe { self.get().unwrap() })",
                "        }",
                "    }",
                "",
                "   let cell = TestCell::new();  ",
                "   let _ = cell.get_or_try_init::<_, i32>(|| {  ",
                "       cell.get_or_try_init::<_, i32>(|| Ok(100)); // Reentrant call  ",
                "       Ok(42)  ",
                "   });  ",
                "}"
            ],
            [
                {
                    "start_line": 626,
                    "start_column": 20,
                    "end_line": 626,
                    "end_column": 29,
                    "positive": false,
                    "negative": false
                }
            ]
        ],
        [
            [
                "{",
                "    struct TestCell {",
                "        inner: UnsafeCell<Option<i32>>,",
                "    }",
                "",
                "    impl TestCell {",
                "        const fn new() -> Self {",
                "            Self {",
                "                inner: UnsafeCell::new(None),",
                "            }",
                "        }",
                "",
                "        fn get(&self) -> Option<&i32> {",
                "            unsafe { &*self.inner.get() }.as_ref()",
                "        }",
                "",
                "        fn set(&self, value: i32) -> Result<(), i32> {",
                "            if unsafe { &*self.inner.get() }.is_none() {",
                "                unsafe { *self.inner.get() = Some(value) };",
                "                Ok(())",
                "            } else {",
                "                Err(value)",
                "            }",
                "        }",
                "",
                "        fn get_or_try_init<F, E>(&self, f: F) -> Result<&i32, E>",
                "        where",
                "            F: FnOnce() -> Result<i32, E>,",
                "        {",
                "            if let Some(val) = self.get() {",
                "                return Ok(val);",
                "            }",
                "            let val = f()?;",
                "            assert!(self.set(val).is_ok(), \"reentrant init\");",
                "            Ok(unsafe { self.get().unwrap() })",
                "        }",
                "    }",
                "",
                "    let cell = TestCell::new();",
                "    assert_eq!(cell.get_or_try_init(|| Err(())), Err(()));",
                "}"
            ],
            [
                {
                    "start_line": 626,
                    "start_column": 20,
                    "end_line": 626,
                    "end_column": 29,
                    "positive": false,
                    "negative": false
                }
            ]
        ]
    ],
    "file_path": "/home/abezbm/rusty-unit/evaluation/once_cell/rusty-unit-0/src/lib.rs"
}