{
  "name": "serde::de::ignored_any::<de::ignored_any::IgnoredAny as de::Visitor<'de>>::visit_enum",
  "name_with_impl": "serde::de::ignored_any::{impl#0}::visit_enum",
  "mod_info": {
    "name": "de::ignored_any",
    "loc": "serde/src/de/mod.rs:121:1:121:17"
  },
  "visible": true,
  "loc": "serde/src/de/ignored_any.rs:222:5:227:6",
  "fn_tests": [
    {
      "chain_id": 0,
      "prompt_conds": [],
      "input_infer": "",
      "answers": [
        {
          "uses": [],
          "has_test_mod": false,
          "common": [
            "#[derive(Debug)]",
            "struct TestEnumAccess {",
            "    variant: Option<()>,",
            "}",
            "",
            "impl<'de> EnumAccess<'de> for TestEnumAccess {",
            "    type Error = ();",
            "    type Variants = TestVariants;",
            "",
            "    fn variant<V>(self) -> Result<(V, Self), Self::Error>",
            "    where",
            "        V: VariantAccess<'de>,",
            "    {",
            "        if self.variant.is_some() {",
            "            Ok(((), self))",
            "        } else {",
            "            Err(())",
            "        }",
            "    }",
            "}",
            "",
            "struct TestVariants;",
            "",
            "impl Iterator for TestVariants {",
            "    type Item = ();",
            "",
            "    fn next(&mut self) -> Option<Self::Item> {",
            "        Some(())",
            "    }",
            "}",
            "",
            "#[derive(Debug)]",
            "struct IgnoredAny;",
            "",
            "struct Visitor;",
            "",
            "impl Visitor {",
            "    fn visit_enum<A>(self, data: A) -> Result<IgnoredAny, A::Error>",
            "    where",
            "        A: EnumAccess<'de>,",
            "    {",
            "        data.variant::<IgnoredAny>().map(|(_, _)| IgnoredAny)",
            "    }",
            "}"
          ],
          "chain_tests": [
            {
              "attrs": [],
              "prefix": [],
              "oracles": [],
              "codes": [
                [
                  "{",
                  "    let test_access = TestEnumAccess { variant: Some(()) };",
                  "    let visitor = Visitor;",
                  "    let result = visitor.visit_enum(test_access);",
                  "    assert!(result.is_ok());",
                  "}"
                ]
              ],
              "can_compile": [
                {
                  "Err": "   Compiling proc-macro2 v1.0.95\n   Compiling syn v1.0.109\n   Compiling serde_derive v1.0.219 (/home/utgen/workspace/serde/serde_derive)\n   Compiling serde v1.0.219 (/home/utgen/workspace/serde/serde)\n   Compiling quote v1.0.40\n   Compiling syn v2.0.100\n   Compiling ntest_timeout v0.9.3\n   Compiling ntest_test_cases v0.9.3\n   Compiling ntest v0.9.3\nerror[E0437]: type `Variants` is not a member of trait `EnumAccess`\n   --> serde/src/de/ignored_any.rs:250:5\n    |\n250 |     type Variants = TestVariants;\n    |     ^^^^^--------^^^^^^^^^^^^^^^^\n    |     |    |\n    |     |    help: there is an associated type with a similar name: `Variant`\n    |     not a member of trait `EnumAccess`\n\nerror[E0261]: use of undeclared lifetime name `'de`\n   --> serde/src/de/ignored_any.rs:282:23\n    |\n282 |         A: EnumAccess<'de>,\n    |                       ^^^ undeclared lifetime\n    |\n    = note: for more information on higher-ranked polymorphism, visit https://doc.rust-lang.org/nomicon/hrtb.html\nhelp: consider making the bound lifetime-generic with a new `'de` lifetime\n    |\n282 |         A: for<'de> EnumAccess<'de>,\n    |            ++++++++\nhelp: consider making the bound lifetime-generic with a new `'de` lifetime\n    |\n282 |         for<'de> A: EnumAccess<'de>,\n    |         ++++++++\nhelp: consider introducing lifetime `'de` here\n    |\n280 |     fn visit_enum<'de, A>(self, data: A) -> Result<IgnoredAny, A::Error>\n    |                   ++++\nhelp: consider introducing lifetime `'de` here\n    |\n279 | impl<'de> Visitor {\n    |     +++++\n\nwarning: unused import: `ntest::timeout`\n   --> serde/src/de/ignored_any.rs:242:8\n    |\n242 |    use ntest::timeout;\n    |        ^^^^^^^^^^^^^^\n    |\n    = note: `#[warn(unused_imports)]` on by default\n\nerror[E0277]: the trait bound `(): de::Error` is not satisfied\n    --> serde/src/de/ignored_any.rs:249:18\n     |\n249  |     type Error = ();\n     |                  ^^ the trait `de::Error` is not implemented for `()`\n     |\n     = help: the trait `de::Error` is implemented for `value::Error`\nnote: required by a bound in `de::EnumAccess::Error`\n    --> serde/src/de/mod.rs:1987:17\n     |\n1987 |     type Error: Error;\n     |                 ^^^^^ required by this bound in `EnumAccess::Error`\n\nerror[E0276]: impl has stricter requirements than trait\n    --> serde/src/de/ignored_any.rs:254:12\n     |\n254  |           V: VariantAccess<'de>,\n     |              ^^^^^^^^^^^^^^^^^^ impl has extra requirement `V: de::VariantAccess<'de>`\n     |\n    ::: serde/src/de/mod.rs:2005:5\n     |\n2005 | /     fn variant<V>(self) -> Result<(V, Self::Variant), Self::Error>\n2006 | |     where\n2007 | |         V: Deserialize<'de>,\n     | |____________________________- definition of `variant` from trait\n\nerror[E0046]: not all trait items implemented, missing: `Variant`, `variant_seed`\n    --> serde/src/de/ignored_any.rs:248:1\n     |\n248  |   impl<'de> EnumAccess<'de> for TestEnumAccess {\n     |   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ missing `Variant`, `variant_seed` in implementation\n     |\n    ::: serde/src/de/mod.rs:1990:5\n     |\n1990 |       type Variant: VariantAccess<'de, Error = Self::Error>;\n     |       ----------------------------------------------------- `Variant` from trait\n...\n1996 | /     fn variant_seed<V>(self, seed: V) -> Result<(V::Value, Self::Variant), Self::Error>\n1997 | |     where\n1998 | |         V: DeserializeSeed<'de>;\n     | |________________________________- `variant_seed` from trait\n\nerror[E0308]: mismatched types\n   --> serde/src/de/ignored_any.rs:257:17\n    |\n252 |     fn variant<V>(self) -> Result<(V, Self), Self::Error>\n    |                - expected this type parameter\n...\n257 |             Ok(((), self))\n    |                 ^^ expected type parameter `V`, found `()`\n    |\n    = note: expected type parameter `V`\n                    found unit type `()`\n\nSome errors have detailed explanations: E0046, E0261, E0276, E0277, E0308, E0437.\nFor more information about an error, try `rustc --explain E0046`.\nwarning: `serde` (lib test) generated 1 warning\nerror: could not compile `serde` (lib test) due to 6 previous errors; 1 warning emitted\n"
                }
              ],
              "repaired": [
                false
              ]
            },
            {
              "attrs": [
                "#[should_panic]"
              ],
              "prefix": [],
              "oracles": [],
              "codes": [
                [
                  "{",
                  "    let test_access = TestEnumAccess { variant: None };",
                  "    let visitor = Visitor;",
                  "    let _result = visitor.visit_enum(test_access).unwrap();",
                  "}"
                ]
              ],
              "can_compile": [
                {
                  "Err": "   Compiling proc-macro2 v1.0.95\n   Compiling syn v1.0.109\n   Compiling serde_derive v1.0.219 (/home/utgen/workspace/serde/serde_derive)\n   Compiling serde v1.0.219 (/home/utgen/workspace/serde/serde)\n   Compiling quote v1.0.40\n   Compiling syn v2.0.100\n   Compiling ntest_test_cases v0.9.3\n   Compiling ntest_timeout v0.9.3\n   Compiling ntest v0.9.3\nerror[E0437]: type `Variants` is not a member of trait `EnumAccess`\n   --> serde/src/de/ignored_any.rs:250:5\n    |\n250 |     type Variants = TestVariants;\n    |     ^^^^^--------^^^^^^^^^^^^^^^^\n    |     |    |\n    |     |    help: there is an associated type with a similar name: `Variant`\n    |     not a member of trait `EnumAccess`\n\nerror[E0261]: use of undeclared lifetime name `'de`\n   --> serde/src/de/ignored_any.rs:282:23\n    |\n282 |         A: EnumAccess<'de>,\n    |                       ^^^ undeclared lifetime\n    |\n    = note: for more information on higher-ranked polymorphism, visit https://doc.rust-lang.org/nomicon/hrtb.html\nhelp: consider making the bound lifetime-generic with a new `'de` lifetime\n    |\n282 |         A: for<'de> EnumAccess<'de>,\n    |            ++++++++\nhelp: consider making the bound lifetime-generic with a new `'de` lifetime\n    |\n282 |         for<'de> A: EnumAccess<'de>,\n    |         ++++++++\nhelp: consider introducing lifetime `'de` here\n    |\n280 |     fn visit_enum<'de, A>(self, data: A) -> Result<IgnoredAny, A::Error>\n    |                   ++++\nhelp: consider introducing lifetime `'de` here\n    |\n279 | impl<'de> Visitor {\n    |     +++++\n\nwarning: unused import: `ntest::timeout`\n   --> serde/src/de/ignored_any.rs:242:8\n    |\n242 |    use ntest::timeout;\n    |        ^^^^^^^^^^^^^^\n    |\n    = note: `#[warn(unused_imports)]` on by default\n\nerror[E0277]: the trait bound `(): de::Error` is not satisfied\n    --> serde/src/de/ignored_any.rs:249:18\n     |\n249  |     type Error = ();\n     |                  ^^ the trait `de::Error` is not implemented for `()`\n     |\n     = help: the trait `de::Error` is implemented for `value::Error`\nnote: required by a bound in `de::EnumAccess::Error`\n    --> serde/src/de/mod.rs:1987:17\n     |\n1987 |     type Error: Error;\n     |                 ^^^^^ required by this bound in `EnumAccess::Error`\n\nerror[E0276]: impl has stricter requirements than trait\n    --> serde/src/de/ignored_any.rs:254:12\n     |\n254  |           V: VariantAccess<'de>,\n     |              ^^^^^^^^^^^^^^^^^^ impl has extra requirement `V: de::VariantAccess<'de>`\n     |\n    ::: serde/src/de/mod.rs:2005:5\n     |\n2005 | /     fn variant<V>(self) -> Result<(V, Self::Variant), Self::Error>\n2006 | |     where\n2007 | |         V: Deserialize<'de>,\n     | |____________________________- definition of `variant` from trait\n\nerror[E0046]: not all trait items implemented, missing: `Variant`, `variant_seed`\n    --> serde/src/de/ignored_any.rs:248:1\n     |\n248  |   impl<'de> EnumAccess<'de> for TestEnumAccess {\n     |   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ missing `Variant`, `variant_seed` in implementation\n     |\n    ::: serde/src/de/mod.rs:1990:5\n     |\n1990 |       type Variant: VariantAccess<'de, Error = Self::Error>;\n     |       ----------------------------------------------------- `Variant` from trait\n...\n1996 | /     fn variant_seed<V>(self, seed: V) -> Result<(V::Value, Self::Variant), Self::Error>\n1997 | |     where\n1998 | |         V: DeserializeSeed<'de>;\n     | |________________________________- `variant_seed` from trait\n\nerror[E0308]: mismatched types\n   --> serde/src/de/ignored_any.rs:257:17\n    |\n252 |     fn variant<V>(self) -> Result<(V, Self), Self::Error>\n    |                - expected this type parameter\n...\n257 |             Ok(((), self))\n    |                 ^^ expected type parameter `V`, found `()`\n    |\n    = note: expected type parameter `V`\n                    found unit type `()`\n\nSome errors have detailed explanations: E0046, E0261, E0276, E0277, E0308, E0437.\nFor more information about an error, try `rustc --explain E0046`.\nwarning: `serde` (lib test) generated 1 warning\nerror: could not compile `serde` (lib test) due to 6 previous errors; 1 warning emitted\n"
                }
              ],
              "repaired": [
                false
              ]
            }
          ]
        }
      ]
    }
  ]
}